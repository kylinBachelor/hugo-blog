<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="Vue2基础 - http://congpeitong.fun/posts/web/vue2%E5%9F%BA%E7%A1%80/">
    <meta name="author" content="kylinBachelor - http://congpeitong.fun/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>Vue2基础</title>
    
    <base target="_blank">
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    
    
    
    
    <link rel="stylesheet" href="http://congpeitong.fun/style.min.0ce482e7fe60e52d6bb1b58fe99756ace4945251a4773ccf58959820882c496d.css">
    
    <script>const DARK =  false ;</script>
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        <div class="container-floating-box">
	<div class="box box1"></div>
	<div class="box box11"></div>
	<div class="box box12"></div>
	<div class="box box2"></div>
	<div class="box box3"></div>
	<div class="box box4"></div>
	<div class="box box5"></div>
	<div class="box box6"></div>
	<div class="box box7"></div>
	<div class="box box8"></div>
	<div class="box box9"></div>
</div>
        <div class="cool-before" style="background: url('/imgs/bg/default.jpg') left top/100% no-repeat fixed;"></div>
        <div id="header" class=""><div class="container-header">

    
    
    
    <div class="right">
        
        <h1 class="title">Vue2基础</h1>
    
        
        
            <div id="toc">📜</div>
        
    </div>
</div>
</div>
        <div id="content">










<div class="container-main container-page ">

    

    
    
    
    <div class="rel">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <div class="curtag-desc">
            <a href="http://congpeitong.fun/tags/web/"><img src="/imgs/icons/tag.svg" width="16" /> 相关文章：Web <sup>9</sup></a>
        </div>

        <div class="curtag-post">
            
            
            
                <div class="curtag-post-item ">
                    <a href="http://congpeitong.fun/posts/web/el-table%E5%88%86%E9%A1%B5%E5%9B%9E%E6%98%BE%E9%80%89%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE/">El Table分页回显选中的数据</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="http://congpeitong.fun/posts/web/el-table%E5%8F%AF%E5%BD%95%E5%85%A5/">El Table可录入</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="http://congpeitong.fun/posts/web/element%E8%A1%A8%E5%8D%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%A1%E9%AA%8C%E8%A7%84%E5%88%99/">Element表单自定义校验规则</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="http://congpeitong.fun/posts/web/ts-%E5%85%A5%E9%97%A8/">TS 入门</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="http://congpeitong.fun/posts/web/ts-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">TS 面向对象</a>
                </div>
                
                
            
            
                <div class="curtag-post-item curtag-post-item--active">
                    <a href="http://congpeitong.fun/posts/web/vue2%E5%9F%BA%E7%A1%80/">Vue2基础</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="http://congpeitong.fun/posts/web/vue3%E5%9F%BA%E7%A1%80/">Vue3基础</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="http://congpeitong.fun/posts/web/%E5%B8%B8%E7%94%A8%E7%9A%84js%E5%87%BD%E6%95%B0/">常用的JS函数</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="http://congpeitong.fun/posts/web/%E8%A7%84%E9%81%BF%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F%E7%9A%84%E6%96%B9%E6%B3%95/">规避请求方式的方法</a>
                </div>
                
                
        </div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </div>
    
    

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="7409" width="12" height="12">
                <path
                    d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z"
                    p-id="7410" fill="#adb5bd"></path>
            </svg>
            2024-05-09&nbsp;&nbsp;&nbsp;
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="23838" width="11" height="11">
                <path
                    d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z"
                    p-id="23839" fill="#adb5bd"></path>
            </svg>
            2024-05-09&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="33866" width="12" height="12">
                <path
                    d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z"
                    fill="#adb5bd" p-id="33867"></path>
                <path
                    d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z"
                    fill="#adb5bd" p-id="33868"></path>
            </svg>
            28708 字</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="32892" width="12" height="12">
                <path
                    d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z"
                    p-id="32893" fill="#adb5bd"></path>
                <path
                    d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z"
                    p-id="32894" fill="#adb5bd"></path>
            </svg>
            58 分钟</span>
        <div class="container-ctgtag">
	<div class="taxonomy">
		<div class="tag">
			
			
			<a href="/tags/web">Web</a>
			
			<a href="/tags/vue">Vue</a>
			
		</div>
	</div>
</div>
        
    </div>

    <div class="toc">
        <div class="container-page-operation">
	<div class="page-operation">
		<div><a href="/"><img src="/imgs/icons/home-2.svg" alt=""></a></div>
		<div><a href="/nav"><img src="/imgs/icons/iov-navigate-1.svg" alt=""></a></div>
		<div><a href="/wiki"><img src="/imgs/icons/wiki.svg" alt=""></a></div>
		<div><a href="/tags"><img src="/imgs/icons/treetags.svg" alt=""></a></div>
		<div id="light-dark"><a><img src="/imgs/icons/moon2.svg" alt=""></a></div>
		<div><a href="#"><img src="/imgs/icons/up2.svg" alt=""></a></div>
	</div>
</div>
        <nav id="TableOfContents">
  <ol>
    <li><a href="#框架和库">框架和库</a>
      <ol>
        <li><a href="#一js-库">一、JS 库</a>
          <ol>
            <li><a href="#库的概念">库的概念</a></li>
          </ol>
        </li>
        <li><a href="#二框架">二、框架</a></li>
        <li><a href="#三前端主流框架">三、前端主流框架</a></li>
      </ol>
    </li>
    <li><a href="#prop">Prop</a>
      <ol>
        <li><a href="#一父组件传递数据">一、父组件传递数据</a>
          <ol>
            <li><a href="#传递的数据类型">传递的数据类型</a></li>
          </ol>
        </li>
        <li><a href="#二子组件接收数组">二、子组件接收数组</a></li>
        <li><a href="#三单向数据流">三、单向数据流</a>
          <ol>
            <li><a href="#概念">概念</a></li>
            <li><a href="#解决方案">解决方案</a>
              <ol>
                <li><a href="#1将-props-赋值给-data">1、将 props 赋值给 data</a></li>
                <li><a href="#2将-props-赋值给-computed">2、将 props 赋值给 computed</a></li>
              </ol>
            </li>
          </ol>
        </li>
        <li><a href="#四props-验证">四、Props 验证</a></li>
      </ol>
    </li>
    <li><a href="#axios-基本使用">axios 基本使用</a>
      <ol>
        <li><a href="#一下载">一、下载</a></li>
        <li><a href="#二使用">二、使用</a>
          <ol>
            <li><a href="#1引入">1、引入</a></li>
            <li><a href="#2发送请求">2、发送请求</a></li>
            <li><a href="#3接收请求结果">3、接收请求结果</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#身份认证">身份认证</a>
      <ol>
        <li><a href="#一用户登录">一、用户登录</a></li>
        <li><a href="#二获取用户信息">二、获取用户信息</a></li>
        <li><a href="#三保存用户信息">三、保存用户信息</a></li>
        <li><a href="#四渲染用户信息">四、渲染用户信息</a></li>
        <li><a href="#五验证-token-是否过期">五、验证 token 是否过期</a></li>
        <li><a href="#六处理-token-过期">六、处理 token 过期</a></li>
      </ol>
    </li>
    <li><a href="#路由与-spa">路由与 SPA</a>
      <ol>
        <li><a href="#一spa">一、SPA</a>
          <ol>
            <li><a href="#实现原理">实现原理</a></li>
          </ol>
        </li>
        <li><a href="#二路由">二、路由</a></li>
      </ol>
    </li>
    <li><a href="#关于-vuex">关于 Vuex</a>
      <ol>
        <li><a href="#一概念">一、概念</a></li>
        <li><a href="#二工作原理">二、工作原理</a></li>
        <li><a href="#三五大核心属性">三、五大核心属性</a></li>
      </ol>
    </li>
    <li><a href="#搭建-vue-项目">搭建 Vue 项目</a>
      <ol>
        <li><a href="#一安装-cli-工具">一、安装 CLI 工具</a>
          <ol>
            <li><a href="#1查看-cli-版本号">1、查看 CLI 版本号</a></li>
            <li><a href="#2安装-cli">2、安装 CLI</a></li>
          </ol>
        </li>
        <li><a href="#二搭建-vue-项目">二、搭建 Vue 项目</a>
          <ol>
            <li><a href="#1创建项目">1、创建项目</a></li>
            <li><a href="#2选择安装方式">2、选择安装方式</a></li>
            <li><a href="#3选择安装插件">3、选择安装插件</a></li>
            <li><a href="#4选择-vue-版本">4、选择 Vue 版本</a></li>
            <li><a href="#5选择配置代码位置">5、选择配置代码位置</a></li>
            <li><a href="#6是否保存供以后使用">6、是否保存供以后使用</a></li>
          </ol>
        </li>
        <li><a href="#三启动项目">三、启动项目</a></li>
      </ol>
    </li>
    <li><a href="#自定义事件">自定义事件</a>
      <ol>
        <li><a href="#一父组件设置自定义事件">一、父组件设置自定义事件</a></li>
        <li><a href="#二子组件调用自定义事件">二、子组件调用自定义事件</a></li>
        <li><a href="#三应用场景">三、应用场景</a></li>
      </ol>
    </li>
    <li><a href="#请求封装">请求封装</a>
      <ol>
        <li><a href="#一axios-配置的封装处理">一、axios 配置的封装处理</a>
          <ol>
            <li><a href="#1配置公共路径">1、配置公共路径</a></li>
            <li><a href="#2处理返回的数据格式">2、处理返回的数据格式</a></li>
            <li><a href="#3运行配置文件">3、运行配置文件</a></li>
          </ol>
        </li>
        <li><a href="#二请求-api-的封装处理">二、请求 API 的封装处理</a>
          <ol>
            <li><a href="#1创建目录文件">1、创建目录文件</a></li>
            <li><a href="#2封装请求模块-api">2、封装请求模块 API</a></li>
            <li><a href="#3汇总请求模块-api">3、汇总请求模块 API</a></li>
            <li><a href="#4全局挂载-api">4、全局挂载 API</a></li>
          </ol>
        </li>
        <li><a href="#三组件中调用-api">三、组件中调用 API</a></li>
      </ol>
    </li>
    <li><a href="#动态路由控制权限">动态路由控制权限</a>
      <ol>
        <li><a href="#一权限菜单渲染">一、权限菜单渲染</a>
          <ol>
            <li><a href="#1配置状态机">1、配置状态机</a></li>
            <li><a href="#2筛选菜单数据">2、筛选菜单数据</a></li>
          </ol>
        </li>
        <li><a href="#二配置动态路由">二、配置动态路由</a>
          <ol>
            <li><a href="#1判断用户是否登录">1、判断用户是否登录</a></li>
            <li><a href="#2配置动态路由">2、配置动态路由</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#路由配置">路由配置</a>
      <ol>
        <li><a href="#一基础配置">一、基础配置</a></li>
        <li><a href="#二路由出口">二、路由出口</a></li>
        <li><a href="#三路由懒加载">三、路由懒加载</a></li>
        <li><a href="#四路由重定向">四、路由重定向</a></li>
        <li><a href="#五404-页面配置">五、404 页面配置</a></li>
        <li><a href="#六路由模式">六、路由模式</a></li>
      </ol>
    </li>
    <li><a href="#stategetters-和-mutations-的使用">state、getters 和 mutations 的使用</a>
      <ol>
        <li><a href="#一state-的使用">一、state 的使用</a>
          <ol>
            <li><a href="#1设置-state">1、设置 state</a></li>
            <li><a href="#2获取-state">2、获取 state</a></li>
          </ol>
        </li>
        <li><a href="#二mutations">二、mutations</a>
          <ol>
            <li><a href="#1设置-mutations">1、设置 mutations</a></li>
            <li><a href="#2调用-mutations">2、调用 mutations</a></li>
          </ol>
        </li>
        <li><a href="#三getters-的使用">三、getters 的使用</a>
          <ol>
            <li><a href="#1设置-getters">1、设置 getters</a></li>
            <li><a href="#2获取-getters">2、获取 getters</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#准备工作">准备工作</a>
      <ol>
        <li><a href="#一vscode-安装插件">一、VSCode 安装插件</a></li>
        <li><a href="#二项目结构">二、项目结构</a></li>
      </ol>
    </li>
    <li><a href="#生命周期函数">生命周期函数</a>
      <ol>
        <li><a href="#一概念-1">一、概念</a>
          <ol>
            <li><a href="#1组件的生命周期">1、组件的生命周期</a></li>
            <li><a href="#2生命周期函数">2、生命周期函数</a></li>
          </ol>
        </li>
        <li><a href="#二生命周期函数">二、生命周期函数</a></li>
      </ol>
    </li>
    <li><a href="#动态路由优化">动态路由优化</a>
      <ol>
        <li><a href="#一防止已登陆用户重复登录">一、防止已登陆用户重复登录</a></li>
        <li><a href="#二退出登录">二、退出登录</a></li>
        <li><a href="#三防止重复添加动态路由">三、防止重复添加动态路由</a></li>
        <li><a href="#四筛选-path-的动态路由">四、筛选 path 的动态路由</a></li>
      </ol>
    </li>
    <li><a href="#路由跳转">路由跳转</a>
      <ol>
        <li><a href="#一标签组件跳转">一、标签（组件）跳转</a>
          <ol>
            <li><a href="#to">to</a></li>
          </ol>
        </li>
        <li><a href="#二api-跳转">二、API 跳转</a></li>
        <li><a href="#三其他跳转方式">三、其他跳转方式</a>
          <ol>
            <li><a href="#1replace-跳转">1、replace 跳转</a></li>
            <li><a href="#2其他跳转">2、其他跳转</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#actions">actions</a>
      <ol>
        <li><a href="#一创建-action-方法">一、创建 action 方法</a></li>
        <li><a href="#二调用-action-方法">二、调用 action 方法</a></li>
        <li><a href="#三处理-action-请求结果">三、处理 action 请求结果</a>
          <ol>
            <li><a href="#1请求结果保存到-state">1、请求结果保存到 state</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#事件总线">事件总线</a>
      <ol>
        <li><a href="#一工作原理">一、工作原理</a></li>
        <li><a href="#二工作步骤">二、工作步骤</a>
          <ol>
            <li><a href="#1创建事件总线-bus">1、创建事件总线 bus</a></li>
            <li><a href="#2给-bus-添加事件">2、给 bus 添加事件</a></li>
            <li><a href="#3调用-bus-的事件">3、调用 bus 的事件</a></li>
          </ol>
        </li>
        <li><a href="#三注意事项">三、注意事项</a></li>
      </ol>
    </li>
    <li><a href="#组件">组件</a>
      <ol>
        <li><a href="#一组件的概念">一、组件的概念</a></li>
        <li><a href="#二单文件组件">二、单文件组件</a></li>
        <li><a href="#三组件嵌套">三、组件嵌套</a>
          <ol>
            <li><a href="#1引入子组件">1、引入子组件</a></li>
            <li><a href="#2注册子组件">2、注册子组件</a></li>
            <li><a href="#3渲染子组件">3、渲染子组件</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#自定义指令">自定义指令</a>
      <ol>
        <li><a href="#一基础语法">一、基础语法</a>
          <ol>
            <li><a href="#1全局指令">1、全局指令</a></li>
            <li><a href="#2局部指令">2、局部指令</a></li>
          </ol>
        </li>
        <li><a href="#二钩子函数">二、钩子函数</a></li>
        <li><a href="#三示例">三、示例</a></li>
      </ol>
    </li>
    <li><a href="#嵌套路由">嵌套路由</a>
      <ol>
        <li><a href="#一配置嵌套路由">一、配置嵌套路由</a></li>
        <li><a href="#二配置子路由出口">二、配置子路由出口</a></li>
        <li><a href="#三嵌套路由的跳转">三、嵌套路由的跳转</a></li>
      </ol>
    </li>
    <li><a href="#辅助函数">辅助函数</a>
      <ol>
        <li><a href="#一辅助函数的概念">一、辅助函数的概念</a></li>
        <li><a href="#二使用-1">二、使用</a>
          <ol>
            <li><a href="#1引入-1">1、引入</a></li>
            <li><a href="#2调用">2、调用</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#数据与渲染">数据与渲染</a>
      <ol>
        <li><a href="#一数据">一、数据</a></li>
        <li><a href="#二渲染数据">二、渲染数据</a>
          <ol>
            <li><a href="#1模板语法">1、模板语法</a></li>
            <li><a href="#2v-text-和-v-html">2、v-text 和 v-html</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#动态组件">动态组件</a>
      <ol>
        <li><a href="#一基础语法-1">一、基础语法</a></li>
        <li><a href="#二生命周期">二、生命周期</a></li>
      </ol>
    </li>
    <li><a href="#过滤器">过滤器</a>
      <ol>
        <li><a href="#一创建过滤器">一、创建过滤器</a>
          <ol>
            <li><a href="#1全局过滤器">1、全局过滤器</a></li>
            <li><a href="#2局部过滤器">2、局部过滤器</a></li>
          </ol>
        </li>
        <li><a href="#二使用过滤器">二、使用过滤器</a></li>
        <li><a href="#三示例-1">三、示例</a></li>
      </ol>
    </li>
    <li><a href="#动态路由">动态路由</a>
      <ol>
        <li><a href="#一配置动态路由">一、配置动态路由</a></li>
        <li><a href="#二跳转动态路由">二、跳转动态路由</a></li>
        <li><a href="#三获取动态路由的参数">三、获取动态路由的参数</a>
          <ol>
            <li><a href="#1通过-route-获取">1、通过 $route 获取</a></li>
            <li><a href="#2通过-props-获取">2、通过 props 获取</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#模块化">模块化</a>
      <ol>
        <li><a href="#一仓库配置模块化">一、仓库配置模块化</a>
          <ol>
            <li><a href="#1创建模块文件">1、创建模块文件</a></li>
            <li><a href="#2配置模块">2、配置模块</a></li>
            <li><a href="#3主仓库引入模块">3、主仓库引入模块</a></li>
          </ol>
        </li>
        <li><a href="#二组件中使用模块">二、组件中使用模块</a>
          <ol>
            <li><a href="#1原生方式不用辅助函数">1、原生方式（不用辅助函数）</a></li>
            <li><a href="#2辅助函数">2、辅助函数</a></li>
            <li><a href="#3组件中使用多个仓库模块">3、组件中使用多个仓库模块</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#指令">指令</a>
      <ol>
        <li><a href="#一v-show">一、v-show</a></li>
        <li><a href="#二v-bind">二、v-bind</a>
          <ol>
            <li><a href="#基本用法">基本用法</a></li>
            <li><a href="#动态渲染图片">动态渲染图片</a>
              <ol>
                <li><a href="#1动态渲染网络图片">1、动态渲染网络图片</a></li>
                <li><a href="#2动态渲染本地图片">2、动态渲染本地图片</a></li>
              </ol>
            </li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#keep-alive">keep-alive</a>
      <ol>
        <li><a href="#一基础语法-2">一、基础语法</a></li>
        <li><a href="#二生命周期函数-1">二、生命周期函数</a></li>
        <li><a href="#三筛选组件">三、筛选组件</a></li>
      </ol>
    </li>
    <li><a href="#混入">混入</a>
      <ol>
        <li><a href="#一创建混入对象">一、创建混入对象</a></li>
        <li><a href="#二引入混入对象">二、引入混入对象</a></li>
      </ol>
    </li>
    <li><a href="#query-路由传参">query 路由传参</a>
      <ol>
        <li><a href="#一传递参数">一、传递参数</a></li>
        <li><a href="#二路由配置">二、路由配置</a></li>
        <li><a href="#三接收参数">三、接收参数</a></li>
      </ol>
    </li>
    <li><a href="#事件处理">事件处理</a>
      <ol>
        <li><a href="#一绑定事件">一、绑定事件</a></li>
        <li><a href="#二事件方法">二、事件方法</a></li>
        <li><a href="#三事件传参">三、事件传参</a></li>
        <li><a href="#四修饰符">四、修饰符</a>
          <ol>
            <li><a href="#1事件修饰符">1、事件修饰符</a></li>
            <li><a href="#2按键修饰符">2、按键修饰符</a></li>
            <li><a href="#3系统修饰键">3、系统修饰键</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#插槽">插槽</a>
      <ol>
        <li><a href="#一基础语法-3">一、基础语法</a>
          <ol>
            <li><a href="#1定义插槽">1、定义插槽</a></li>
            <li><a href="#2给插槽传递内容">2、给插槽传递内容</a></li>
          </ol>
        </li>
        <li><a href="#二具名插槽命名插槽">二、具名插槽（命名插槽）</a>
          <ol>
            <li><a href="#1插槽命名">1、插槽命名</a></li>
            <li><a href="#2给指定插槽传递内容">2、给指定插槽传递内容</a></li>
          </ol>
        </li>
        <li><a href="#三后备内容插槽的默认值">三、后备内容（插槽的默认值）</a></li>
        <li><a href="#四作用域插槽">四、作用域插槽</a>
          <ol>
            <li><a href="#1子组件通过插槽传值">1、子组件通过插槽传值</a></li>
            <li><a href="#2父组件通过-v-slot-接收值">2、父组件通过 v-slot 接收值</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#可视化图表">可视化图表</a>
      <ol>
        <li><a href="#一下载-1">一、下载</a></li>
        <li><a href="#二使用-2">二、使用</a>
          <ol>
            <li><a href="#1引入-2">1、引入</a></li>
            <li><a href="#2初始化">2、初始化</a></li>
            <li><a href="#3处理渲染数据">3、处理渲染数据</a></li>
            <li><a href="#4渲染">4、渲染</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#路由元信息">路由元信息</a>
      <ol>
        <li><a href="#一基础语法-4">一、基础语法</a>
          <ol>
            <li><a href="#1设置路由元信息">1、设置路由元信息</a></li>
            <li><a href="#2获取路由元信息">2、获取路由元信息</a></li>
          </ol>
        </li>
        <li><a href="#二应用场景">二、应用场景</a>
          <ol>
            <li><a href="#1面包屑">1、面包屑</a>
              <ol>
                <li><a href="#1设置路由元信息-1">1）设置路由元信息</a></li>
                <li><a href="#2渲染路由元信息">2）渲染路由元信息</a></li>
              </ol>
            </li>
            <li><a href="#2区分组件缓存">2、区分组件缓存</a>
              <ol>
                <li><a href="#1设置路由元信息-2">1）设置路由元信息</a></li>
                <li><a href="#2按条件渲染组件">2）按条件渲染组件</a></li>
              </ol>
            </li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#列表渲染">列表渲染</a>
      <ol>
        <li><a href="#一基础语法-5">一、基础语法</a></li>
        <li><a href="#二key">二、key</a></li>
        <li><a href="#三template">三、template</a></li>
        <li><a href="#四其他数据类型">四、其他数据类型</a>
          <ol>
            <li><a href="#1遍历对象">1、遍历对象</a></li>
            <li><a href="#2遍历字符串">2、遍历字符串</a></li>
            <li><a href="#3遍历数字">3、遍历数字</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#响应式原理">响应式原理</a>
      <ol>
        <li><a href="#一核心概念">一、核心概念</a></li>
        <li><a href="#二数据劫持">二、数据劫持</a>
          <ol>
            <li><a href="#处理-this-的数据">处理 this 的数据</a></li>
          </ol>
        </li>
        <li><a href="#三数据渲染">三、数据渲染</a></li>
        <li><a href="#四发布订阅者模式">四、发布订阅者模式</a></li>
        <li><a href="#五总结">五、总结</a></li>
      </ol>
    </li>
    <li><a href="#导航守卫">导航守卫</a>
      <ol>
        <li><a href="#一分类">一、分类</a></li>
        <li><a href="#二全局守卫">二、全局守卫</a>
          <ol>
            <li><a href="#1全局前置守卫">1、全局前置守卫</a></li>
          </ol>
        </li>
        <li><a href="#三路由独享守卫">三、路由独享守卫</a>
          <ol>
            <li><a href="#1路由前置守卫">1、路由前置守卫</a></li>
          </ol>
        </li>
        <li><a href="#四组件内守卫">四、组件内守卫</a>
          <ol>
            <li><a href="#1离开路由前的守卫">1、离开路由前的守卫</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#条件渲染">条件渲染</a>
      <ol>
        <li><a href="#一基础语法-6">一、基础语法</a></li>
        <li><a href="#二template">二、template</a></li>
        <li><a href="#三v-if-和-v-show-的区别">三、v-if 和 v-show 的区别</a></li>
      </ol>
    </li>
    <li><a href="#默认子路由">默认子路由</a>
      <ol>
        <li><a href="#一基础语法-7">一、基础语法</a></li>
        <li><a href="#二动态设置默认子路由">二、动态设置默认子路由</a></li>
      </ol>
    </li>
    <li><a href="#计算属性">计算属性</a>
      <ol>
        <li><a href="#一基础语法-8">一、基础语法</a></li>
        <li><a href="#二应用场景-1">二、应用场景</a></li>
        <li><a href="#三computed-和-methods-的区别">三、computed 和 methods 的区别</a></li>
        <li><a href="#四computed-的缓存">四、computed 的缓存</a></li>
        <li><a href="#五计算属性的修改">五、计算属性的修改</a></li>
      </ol>
    </li>
    <li><a href="#侦听器">侦听器</a>
      <ol>
        <li><a href="#一基础语法-9">一、基础语法</a></li>
        <li><a href="#二侦听引用类型数据">二、侦听引用类型数据</a>
          <ol>
            <li><a href="#1侦听对象中单个属性的变化">1、侦听对象中单个属性的变化</a></li>
            <li><a href="#2侦听对象中任意属性的变化">2、侦听对象中任意属性的变化</a></li>
          </ol>
        </li>
        <li><a href="#三立即侦听">三、立即侦听</a></li>
        <li><a href="#四computed-和-watch-的区别">四、computed 和 watch 的区别</a></li>
      </ol>
    </li>
    <li><a href="#样式处理">样式处理</a>
      <ol>
        <li><a href="#一静态样式">一、静态样式</a></li>
        <li><a href="#二局部样式">二、局部样式</a></li>
        <li><a href="#三动态样式">三、动态样式</a>
          <ol>
            <li><a href="#1动态-class">1、动态 class</a></li>
            <li><a href="#2动态-style">2、动态 style</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#数据变更检测">数据变更检测</a>
      <ol>
        <li><a href="#一检测变化的注意事项">一、检测变化的注意事项</a></li>
        <li><a href="#二解决方案">二、解决方案</a>
          <ol>
            <li><a href="#1对象属性的新增">1、对象属性的新增</a></li>
            <li><a href="#2数组下标的操作">2、数组下标的操作</a></li>
            <li><a href="#3数组长度的操作">3、数组长度的操作</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#表单输入绑定">表单输入绑定</a>
      <ol>
        <li><a href="#一双向数据绑定">一、双向数据绑定</a>
          <ol>
            <li><a href="#v-model-的原理">v-model 的原理</a></li>
          </ol>
        </li>
        <li><a href="#二v-model-与单选按钮">二、v-model 与单选按钮</a></li>
        <li><a href="#三v-model-与复选框">三、v-model 与复选框</a></li>
        <li><a href="#四v-model-与下拉列表">四、v-model 与下拉列表</a></li>
        <li><a href="#五修饰符">五、修饰符</a></li>
      </ol>
    </li>
  </ol>
</nav>
    </div>

    <div class='content  '>
        <h1 id="框架和库">框架和库</h1>
<h2 id="一js-库">一、JS 库</h2>
<p>在原生 JS 中，如果我们要获取一个节点：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> app <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">document</span>.getElementById(<span style="color:#d14">&#39;app&#39;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>在 jQuery 中，如果我们要获取一个节点：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> app <span style="color:#000;font-weight:bold">=</span> $(<span style="color:#d14">&#39;#app&#39;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="库的概念">库的概念</h3>
<p>库，就是一组方法的集合，通常这些方法都会有特定的功能。例如：</p>
<ul>
<li>jQuery：大部分的方法都是关于<strong>节点</strong>操作的功能；</li>
<li>lodash：大部分的方法都是关于<strong>数据</strong>操作的功能；</li>
</ul>
<p>在一个项目中，可以使用多个库。</p>
<h2 id="二框架">二、框架</h2>
<p>框架，就是针对我们的项目，给我们提供了一整套完整的解决方案。</p>
<p>在使用框架时，控制权在框架身上，开发者需要按照框架的规则来编写代码。但是，我们依然可以在项目中再去引入其他的库。</p>
<h2 id="三前端主流框架">三、前端主流框架</h2>
<p>现在，前端主流框架主要有三个：</p>
<ol>
<li>Angular：诞生于 2009 年，后被谷歌收购；</li>
<li>React：2013 年推出正式版，起源于 Facebook 内部的项目 Instagram；</li>
<li>Vue：2014 年由尤雨溪发布；</li>
</ol>
<h1 id="prop">Prop</h1>
<p>Vue 中提供了 Prop 的属性，来实现父组件向子组件传值。</p>
<h2 id="一父组件传递数据">一、父组件传递数据</h2>
<p>父组件在向子组件传递数据时，基础语法如下：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">子组件名</span> <span style="color:#008080">属性名</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;传递的数据值&#34;</span>&gt;&lt;/<span style="color:#000080">子组件名</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中，属性名可以自己任意定义。</p>
<h3 id="传递的数据类型">传递的数据类型</h3>
<p>在传递数据时，除了普通的静态字符串外，其他任意类型的数据，在传递时都需要添加 <code>v-bind</code>：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">Child</span> <span style="color:#008080">str</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;hello&#34;</span> <span style="color:#008080">v-bind:num</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;20&#34;</span> <span style="color:#008080">v-bind:arr</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;[1, 2, 3]&#34;</span>&gt;&lt;/<span style="color:#000080">Child</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二子组件接收数组">二、子组件接收数组</h2>
<p>子组件中，都通过 <code>props</code> 属性来接收外部传递的数据。</p>
<p>基础语法如下：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    props<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#39;属性名一&#39;</span>, <span style="color:#d14">&#39;属性名二&#39;</span>, ...]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>子组件中通过 <code>props</code> 接收的数据，都可以直接使用：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span> &lt;<span style="color:#000080">p</span>&gt;{{num}}&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    props<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#39;num&#39;</span>],
</span></span><span style="display:flex;"><span>    computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        sum() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.num <span style="color:#000;font-weight:bold">+</span> <span style="color:#000;font-weight:bold">this</span>.num;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三单向数据流">三、单向数据流</h2>
<h3 id="概念">概念</h3>
<p>当父组件将数据传递给子组件后，父组件如果更新数据，子组件会同步更新，但是，<strong>子组件中不能修改 props 接收到的数据</strong>。</p>
<p>如果修改 props 的值，会出现类似以下的报错：</p>
<p><img src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/web/jianglan/20220726110221.png" alt="image-20220726110221300"></p>
<h3 id="解决方案">解决方案</h3>
<p>如果确实有需要修改 props 的需求，可以有如下两种解决方案：</p>
<h4 id="1将-props-赋值给-data">1、将 props 赋值给 data</h4>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    props<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#39;num&#39;</span>],
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            count<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">this</span>.num
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>但是注意，data 中只能接收到 props 的初始值。后续 props 的值发生改变，data 不会再同步更新。</p>
<h4 id="2将-props-赋值给-computed">2、将 props 赋值给 computed</h4>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    props<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#39;num&#39;</span>],
</span></span><span style="display:flex;"><span>    computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        count() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.num;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="四props-验证">四、Props 验证</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    props<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        msg<span style="color:#000;font-weight:bold">:</span> <span style="color:#0086b3">String</span>,
</span></span><span style="display:flex;"><span>        num<span style="color:#000;font-weight:bold">:</span> [<span style="color:#0086b3">String</span>, <span style="color:#0086b3">Number</span>],
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            type<span style="color:#000;font-weight:bold">:</span> <span style="color:#0086b3">String</span>,
</span></span><span style="display:flex;"><span>            required<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>,  <span style="color:#998;font-style:italic">// 父组件必须传
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        },
</span></span><span style="display:flex;"><span>        gender<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            type<span style="color:#000;font-weight:bold">:</span> <span style="color:#0086b3">String</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">default</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;男&#34;</span>,  <span style="color:#998;font-style:italic">// 默认值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        },
</span></span><span style="display:flex;"><span>        friends<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            type<span style="color:#000;font-weight:bold">:</span> <span style="color:#0086b3">Array</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">default</span><span style="color:#000;font-weight:bold">:</span> () =&gt; [<span style="color:#d14">&#34;张三&#34;</span>],  <span style="color:#998;font-style:italic">// 数组的默认值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        },
</span></span><span style="display:flex;"><span>        student<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            type<span style="color:#000;font-weight:bold">:</span> <span style="color:#0086b3">Object</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">default</span><span style="color:#000;font-weight:bold">:</span> () =&gt; ({ name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;张三&#34;</span> }),   <span style="color:#998;font-style:italic">// 对象的默认值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="axios-基本使用">axios 基本使用</h1>
<h2 id="一下载">一、下载</h2>
<p>在任何项目中，如果要使用 axios 来发送网络请求，都需要先安装下载：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm i axios
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二使用">二、使用</h2>
<h3 id="1引入">1、引入</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> axios from <span style="color:#d14">&#39;axios&#39;</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2发送请求">2、发送请求</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>axios({
</span></span><span style="display:flex;"><span>    url<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;&#39;</span>,  <span style="color:#998;font-style:italic">// 请求路径
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    method<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;POST&#39;</span>, <span style="color:#998;font-style:italic">// 请求类型，例如 GET、POST、DELETE、PUT...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    data<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        参数名<span style="color:#000;font-weight:bold">:</span> 参数值
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>axios({
</span></span><span style="display:flex;"><span>    url<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;&#39;</span>,  <span style="color:#998;font-style:italic">// 请求路径
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    method<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;GET&#39;</span>, <span style="color:#998;font-style:italic">// 请求类型，例如 GET、POST
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    params<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        参数名<span style="color:#000;font-weight:bold">:</span> 参数值
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：除了 GET 请求在传参需要使用 <code>params</code> 属性外，其他类型的请求，传参都是通过 <code>data</code> 属性。</p>
<h3 id="3接收请求结果">3、接收请求结果</h3>
<p>axios 返回的结果是一个 Promise 对象，因此，我们可以选择用 <code>then()</code> 方法来接收后端返回的结果，也可以选择使用 <code>async await</code> 来接收后端返回的结果。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>axios({
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>}).then(res =&gt; {
</span></span><span style="display:flex;"><span>    console.log(<span style="color:#d14">&#39;后端返回的结果&#39;</span>, res.data);
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">async</span> 方法名() {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">const</span> res <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">await</span> axios({
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    });
</span></span><span style="display:flex;"><span>    console.log(<span style="color:#d14">&#39;后端返回的结果&#39;</span>, res.data)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="身份认证">身份认证</h1>
<p>身份认证，就是在项目需要权限访问的页面中，对用户的<strong>登录状态</strong>进行判断。简单来说就是：</p>
<ul>
<li>如果用户登录了，就可以访问对应的页面；</li>
<li>如果用户没有登录，我们就提示用户去登录；</li>
</ul>
<h2 id="一用户登录">一、用户登录</h2>
<p>当用户登录成功后，后端会返回一个 token 给前端，我们需要将 token 保存在本地存储中：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">async</span> login() {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 发送登录请求
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">const</span> res <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">await</span> <span style="color:#000;font-weight:bold">this</span>.$api.users.login(<span style="color:#000;font-weight:bold">this</span>.form);
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (res.code) {
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">// 将 token 保存到本地存储
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                localStorage.token <span style="color:#000;font-weight:bold">=</span> res.token;
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">this</span>.$router.push(<span style="color:#d14">&#34;/home&#34;</span>);
</span></span><span style="display:flex;"><span>            } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">this</span>.$message.error(<span style="color:#d14">&#34;账号或密码错误，登录失败。&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二获取用户信息">二、获取用户信息</h2>
<p>在系统首页的路由中，添加一个“前置守卫”，在守卫钩子函数中发送请求，通过 token 来获取用户信息：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> api from <span style="color:#d14">&#39;@/api&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>, 
</span></span><span style="display:flex;"><span>        component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 路由前置守卫
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        beforeEnter<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">async</span> (to, from, next) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">const</span> token <span style="color:#000;font-weight:bold">=</span> localStorage.token;
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (token) {
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">// 根据 token 获取用户信息
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                <span style="color:#000;font-weight:bold">const</span> res <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">await</span> api.users.getUserInfo();
</span></span><span style="display:flex;"><span>                console.log(res);
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>            } 
</span></span><span style="display:flex;"><span>            alert(<span style="color:#d14">&#39;你还未登录，请先登录&#39;</span>);
</span></span><span style="display:flex;"><span>            next(<span style="color:#d14">&#39;/login&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三保存用户信息">三、保存用户信息</h2>
<p>我们需要将请求回来的用户信息保存到状态机的 state 中，因此，我们需要在主仓库中进行配置：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> <span style="color:#000;font-weight:bold">new</span> Vuex.Store({
</span></span><span style="display:flex;"><span>    state<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        userInfo<span style="color:#000;font-weight:bold">:</span> {},   <span style="color:#998;font-style:italic">// 用户信息的初始值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    },
</span></span><span style="display:flex;"><span>    getters<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        username<span style="color:#000;font-weight:bold">:</span> state =&gt; state.userInfo.username   <span style="color:#998;font-style:italic">// 筛选用户信息中的用户名
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    },
</span></span><span style="display:flex;"><span>    mutations<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 接收最新的用户数据，并保存到 state 中
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        SET_USER_INFO(state, payload) {
</span></span><span style="display:flex;"><span>            state.userInfo <span style="color:#000;font-weight:bold">=</span> payload;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><p>仓库配置完成后，回到导航守卫中，将获取到的用户信息，通过 mutations 保存到 state 中：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> store from <span style="color:#d14">&#39;@/store&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#998;font-style:italic">// 路由前置守卫
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        beforeEnter<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">async</span> (to, from, next) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">const</span> token <span style="color:#000;font-weight:bold">=</span> localStorage.token;
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (token) {
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">// 根据 token 获取用户信息
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                <span style="color:#000;font-weight:bold">const</span> res <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">await</span> api.users.getUserInfo();
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">if</span> (res.code) {
</span></span><span style="display:flex;"><span>                    store.commit(<span style="color:#d14">&#39;SET_USER_INFO&#39;</span>, res.data); <span style="color:#998;font-style:italic">// 调用 mutations 将用户信息保存到 state
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    next();   <span style="color:#998;font-style:italic">// 让用户进入对应的页面
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    <span style="color:#000;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            } 
</span></span><span style="display:flex;"><span>            alert(<span style="color:#d14">&#39;你还未登录，请先登录&#39;</span>);
</span></span><span style="display:flex;"><span>            next(<span style="color:#d14">&#39;/login&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="四渲染用户信息">四、渲染用户信息</h2>
<p>在组件中，要获取仓库 state 或 getters 中的数据来渲染，有两种方式：</p>
<ol>
<li>直接在 <code>template</code> 中通过 <code>$store</code> 来获取并渲染数据；</li>
<li>可以将仓库的数据交给组件自己的计算属性，然后渲染计算属性即可；</li>
</ol>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">p</span>&gt;欢迎你，{{$store.getters.username}}&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">p</span>&gt;欢迎你，{{username}}&lt;/<span style="color:#000080">p</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    computed() {
</span></span><span style="display:flex;"><span>        username() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.$store.getters.username;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="五验证-token-是否过期">五、验证 token 是否过期</h2>
<p>如果要验证 token 是否过期，需要通过 axios 请求，<strong>将 token 添加到请求头中</strong>，发送到后端来进行验证。</p>
<p>考虑到实际开发中，每一个请求都需要携带 token，随时对 token 的有效期进行验证，所以，我们可以直接在 axios 的请求拦截器中来统一添加请求头的 token：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 请求拦截器：当前端的请求在发送到后端去之前，会拦截下来
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>axios.interceptors.request.use((config) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 所有请求在发往后端去之间，都先拦截下来，给请求头中添加 token
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    config.headers.Authorization <span style="color:#000;font-weight:bold">=</span> localStorage.token;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> config;
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="六处理-token-过期">六、处理 token 过期</h2>
<p>如果后端 token 验证已过期，会返回一个 401 的报错，所以，我们需要在 axios 的响应拦截器中拦截到这个报错，然后进行处理：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> router from <span style="color:#d14">&#34;@/router&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> { MessageBox } from <span style="color:#d14">&#39;element-ui&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 响应拦截器：当后端返回的结果到达前端页面之前，会被拦截下来
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>axios.interceptors.response.use((res) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 响应成功时执行的函数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">return</span> res.data;
</span></span><span style="display:flex;"><span>}, (err) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 响应失败时执行的函数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">if</span> (err <span style="color:#000;font-weight:bold">&amp;&amp;</span> err.response <span style="color:#000;font-weight:bold">&amp;&amp;</span> err.response.status) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (err.response.status <span style="color:#000;font-weight:bold">===</span> <span style="color:#099">401</span>) {
</span></span><span style="display:flex;"><span>            MessageBox.alert(<span style="color:#d14">&#39;登录已过期，请重新登录&#39;</span>, <span style="color:#d14">&#39;提示&#39;</span>, {
</span></span><span style="display:flex;"><span>                confirmButtonText<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;确定&#39;</span>,
</span></span><span style="display:flex;"><span>                callback<span style="color:#000;font-weight:bold">:</span> action =&gt; {
</span></span><span style="display:flex;"><span>                    router.replace(<span style="color:#d14">&#39;/login&#39;</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            });
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#0086b3">Promise</span>.reject(err.message);
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></td></tr></table>
</div>
</div><p>以上步骤完成后，后续，不管是用户没有登录，直接访问权限页面，还是登录已过期，访问权限页面，我们都会提示用户重新登录，并强制跳转到登录页面。</p>
<h1 id="路由与-spa">路由与 SPA</h1>
<h2 id="一spa">一、SPA</h2>
<p>SPA 的全称是“Single Page Application”，翻译成“单页应用”。单页应用，指的就是应用程序中只有一个 <code>.html</code> 页面。</p>
<h3 id="实现原理">实现原理</h3>
<p>单页应用的原理，实际上就是通过切换页面中的组件，来达到类似多页应用的效果。</p>
<h2 id="二路由">二、路由</h2>
<p>路由的作用，就是用来管理<strong>浏览器路径</strong>和<strong>页面组件</strong>之间的关系。</p>
<p>每当浏览器的路径发生变化时，路由就可以检测到，同时会更新页面，显示当前路径对应的组件。</p>
<p>例如，我们有登录、注册、首页三个页面。</p>
<p>那么路由中管理的对应关系：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/login     ---&gt;  Login.vue
</span></span><span style="display:flex;"><span>/register  ---&gt;  Register.vue
</span></span><span style="display:flex;"><span>/home      ---&gt;  Home.vue
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="关于-vuex">关于 Vuex</h1>
<h2 id="一概念">一、概念</h2>
<p>Vuex，是 Vue 官方提供的“状态管理模式”，我们将其称为“状态机”。</p>
<p>状态，实际上指的就是 Vue 应用中的数据。大部分的状态（数据）我们都是在组件自己的 data 中进行管理，但是，部分公共状态（数据），我们可以交给状态机来进行管理。</p>
<h2 id="二工作原理">二、工作原理</h2>
<p>Vuex 的工作原理，实际上就是在 Vue 项目中，引入了一个公共仓库。我们可以将项目中的公共数据，都保存在 Vuex 的仓库中。这样的话，当组件中想要使用公共数据时，就可以直接从仓库中获取。同样的道理，如果我们想要修改仓库中的数据，仓库也会提供修改方法给我们调用即可。</p>
<h2 id="三五大核心属性">三、五大核心属性</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> <span style="color:#000;font-weight:bold">new</span> Vuex.Store({
</span></span><span style="display:flex;"><span>    state<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    getters<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    mutations<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    actions<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    modules<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>state</code>：状态，用来保存公共数据；</li>
<li><code>getters</code>：依赖 state 计算出的新数据，可以理解为是仓库中的计算属性；</li>
<li><code>mutations</code>：修改 state 的方法，唯一修改 state 的途径；</li>
<li><code>actions</code>：异步操作的方法；</li>
<li><code>modules</code>：仓库的模块化；</li>
</ul>
<h1 id="搭建-vue-项目">搭建 Vue 项目</h1>
<h2 id="一安装-cli-工具">一、安装 CLI 工具</h2>
<h3 id="1查看-cli-版本号">1、查看 CLI 版本号</h3>
<p>我们可以通过查看版本号来判断本机是否已经安装过 CLI 工具：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vue -V
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># @vue/cli 5.0.6</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果本机电脑中安装的版本是 1.x 或 2.x，需要先执行以下命令，卸载旧版本，再重新安装最新的版本。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm uninstall vue-cli -g
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果本机电脑中安装的版本是 3.x 或以上，就不需要卸载，可以直接安装最新的版本进行覆盖。</p>
<p>如果提示“<strong>Vue 不是内部或外部命令</strong>”，则表示本机电脑中没有安装过 CLI 工具。</p>
<h3 id="2安装-cli">2、安装 CLI</h3>
<p>安装最新的 CLI，要求本机电脑的 Node.js 版本在 8.9 以上。可以通过以下命令，查看本机电脑中 Node.js 的版本号：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>node -v
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># v14.19.1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>执行以下命令，全局安装 CLI 工具：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install -g @vue/cli
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二搭建-vue-项目">二、搭建 Vue 项目</h2>
<h3 id="1创建项目">1、创建项目</h3>
<p>将终端定位到需要创建项目的路径中，执行以下命令：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vue create vue-demo
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中，<code>vue-demo</code> 是项目名称，会作为项目根目录的文件名。</p>
<h3 id="2选择安装方式">2、选择安装方式</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>? Please pick a preset: <span style="color:#000;font-weight:bold">(</span>Use arrow keys<span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  Default <span style="color:#000;font-weight:bold">([</span>Vue 3<span style="color:#000;font-weight:bold">]</span> babel, eslint<span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  Default <span style="color:#000;font-weight:bold">([</span>Vue 2<span style="color:#000;font-weight:bold">]</span> babel, eslint<span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>&gt; Manually <span style="color:#000;font-weight:bold">select</span> features
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里我们选择第三个 <code>Manually select features</code>，自定义安装。</p>
<h3 id="3选择安装插件">3、选择安装插件</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>? Check the features needed <span style="color:#000;font-weight:bold">for</span> your project: <span style="color:#000;font-weight:bold">(</span>Press &lt;space&gt; to <span style="color:#000;font-weight:bold">select</span>, &lt;a&gt; to toggle all, &lt;i&gt; to invert
</span></span><span style="display:flex;"><span>selection, and &lt;enter&gt; to proceed<span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>&gt;<span style="color:#000;font-weight:bold">(</span>*<span style="color:#000;font-weight:bold">)</span> Babel
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000;font-weight:bold">)</span> TypeScript
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000;font-weight:bold">)</span> Progressive Web App <span style="color:#000;font-weight:bold">(</span>PWA<span style="color:#000;font-weight:bold">)</span> Support
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000;font-weight:bold">)</span> Router
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000;font-weight:bold">)</span> Vuex
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000;font-weight:bold">)</span> CSS Pre-processors
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000;font-weight:bold">)</span> Linter / Formatter
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000;font-weight:bold">)</span> Unit Testing
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#000;font-weight:bold">)</span> E2E Testing
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里我们暂时只选择安装第一个 Babel 插件，其他插件全都不安装。</p>
<p>注意要取消 Linter / Formatter 插件。</p>
<h3 id="4选择-vue-版本">4、选择 Vue 版本</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>? Choose a version of Vue.js that you want to start the project with
</span></span><span style="display:flex;"><span>  3.x
</span></span><span style="display:flex;"><span>&gt; 2.x
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们主要以 Vue2 的学习为主，所以这里选择 2.x 的版本安装。</p>
<h3 id="5选择配置代码位置">5、选择配置代码位置</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>? Where <span style="color:#000;font-weight:bold">do</span> you prefer placing config <span style="color:#000;font-weight:bold">for</span> Babel, ESLint, etc.?
</span></span><span style="display:flex;"><span>&gt; In dedicated config files
</span></span><span style="display:flex;"><span>  In package.json
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>In dedicated config files</code> 表示生成新文件来保存插件的配置代码，<code>In package.json</code> 表示将配置代码添加在 <code>package.json</code> 文件中。</p>
<p>这里我们选第一个。</p>
<h3 id="6是否保存供以后使用">6、是否保存供以后使用</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>? Save this as a preset <span style="color:#000;font-weight:bold">for</span> future projects? <span style="color:#000;font-weight:bold">(</span>y/N<span style="color:#000;font-weight:bold">)</span> n
</span></span></code></pre></td></tr></table>
</div>
</div><p>当前项目的配置已经可以生效了。</p>
<p>由于我们当前的配置比较简单，因此这里选择 <code>n</code>，暂时不保存。</p>
<h2 id="三启动项目">三、启动项目</h2>
<p><strong>将终端定位到项目的根目录</strong>，执行以下命令启动项目：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm run serve
</span></span></code></pre></td></tr></table>
</div>
</div><p>启动成功后，会出现类似以下提示：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>DONE  Compiled successfully in 484ms
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>App running at:
</span></span><span style="display:flex;"><span>- Local:   http://localhost:8080/
</span></span><span style="display:flex;"><span>- Network: http://10.211.55.3:8080/
</span></span></code></pre></td></tr></table>
</div>
</div><p>浏览器访问提示中的路径，就可以看到项目的欢迎界面了。</p>
<h1 id="自定义事件">自定义事件</h1>
<p>自定义事件，指的就是父组件将自己的 <code>methods</code> 方法，作为“自定义事件”传给子组件，让子组件来调用父组件这个方法。</p>
<h2 id="一父组件设置自定义事件">一、父组件设置自定义事件</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h1</span>&gt;父组件&lt;/<span style="color:#000080">h1</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">EventChild</span> <span style="color:#008080">v-on:fatherEvent</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;fatherEvent&#34;</span>&gt;&lt;/<span style="color:#000080">EventChild</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> EventChild from <span style="color:#d14">&#34;./EventChild.vue&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    components<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        EventChild,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        fatherEvent(value) {
</span></span><span style="display:flex;"><span>            console.log(<span style="color:#d14">&#34;父组件的方法&#34;</span>);
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二子组件调用自定义事件">二、子组件调用自定义事件</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h3</span>&gt;子组件&lt;/<span style="color:#000080">h3</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#008080">v-on:click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;$emit(&#39;fatherEvent&#39;, 100)&#34;</span>&gt;按钮&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#008080">v-on:click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;childEvent&#34;</span>&gt;按钮&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        childEvent() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.$emit(<span style="color:#d14">&#39;fatherEvent&#39;</span>, <span style="color:#d14">&#39;hello&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三应用场景">三、应用场景</h2>
<ol>
<li>子组件修改父组件的数据；</li>
<li>子组件给父组件传值；</li>
</ol>
<h1 id="请求封装">请求封装</h1>
<p>请求封装，主要分为两个部分：</p>
<ol>
<li>axios 配置的封装处理；</li>
<li>请求 API 的封装处理；</li>
</ol>
<h2 id="一axios-配置的封装处理">一、axios 配置的封装处理</h2>
<p>通常，我们会在项目的 <code>src</code> 目录中，新建一个 <code>utils</code> 目录，然后在 <code>utils</code> 中新建一个 <code>request.js</code> 文件，用来作为 axios 的配置文件。</p>
<h3 id="1配置公共路径">1、配置公共路径</h3>
<p>所有的请求路径中，都会有相同的一部分，指向服务器的地址。通常，可以通过配置 axios 的公共路径，将服务器地址提取出来。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> axios from <span style="color:#d14">&#34;axios&#34;</span>;
</span></span><span style="display:flex;"><span>axios.defaults.baseURL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;http://47.98.128.191:3000&#34;</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><p>后续，我们发送的所有 axios 请求的 URL，就都不需要再写基础路径了。</p>
<h3 id="2处理返回的数据格式">2、处理返回的数据格式</h3>
<p>axios 得到的数据是一个响应对象，而后端真正返回给前端的数据，在响应对象的 <code>data</code> 属性中。因此，我们可以对 axios 返回的数据格式进行筛选处理：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>axios.interceptors.response.use(res =&gt; res.data);
</span></span></code></pre></td></tr></table>
</div>
</div><p>说明：这里给 axios 设置了一个响应拦截器。当请求的结果在返回给前端的过程中，会先被“响应拦截器”拦截下来，然后响应拦截器中对数据进行处理，最后将 <code>res.data</code> 返回给前端。</p>
<h3 id="3运行配置文件">3、运行配置文件</h3>
<p>配置完成后，我们需要在 <code>main.js</code> 中引入该文件，让文件的配置运行生效：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#d14">&#39;./utils/request.js&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二请求-api-的封装处理">二、请求 API 的封装处理</h2>
<p>因为在实际的项目开发中，会涉及到很多的网络请求，每一个网络请求的代码都有可能分布在各个组件中。</p>
<p>网络请求的代码太散，会导致我们写很多重复的代码，同时后期更新维护也很不方便。因此，<strong>我们需要将项目中所有的网络请求集中到一起来进行管理。</strong></p>
<h3 id="1创建目录文件">1、创建目录文件</h3>
<p>我们在 <code>src</code> 中创建一个 <code>api</code> 目录，用来管理项目中所有的请求 API。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>src
</span></span><span style="display:flex;"><span> |--- api
</span></span><span style="display:flex;"><span> |     |--- modules
</span></span><span style="display:flex;"><span> |     |       |--- students.js   <span style="color:#998;font-style:italic"># 设置所有关于学生的请求</span>
</span></span><span style="display:flex;"><span> |     |       |--- classes.js    <span style="color:#998;font-style:italic"># 设置所有关于班级的请求</span>
</span></span><span style="display:flex;"><span> |     |       |--- ...        <span style="color:#998;font-style:italic"># 设置所有关于 xx 的请求</span>
</span></span><span style="display:flex;"><span> |     |--- index.js              <span style="color:#998;font-style:italic"># 汇总 modules 中所有模块的请求</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2封装请求模块-api">2、封装请求模块 API</h3>
<p>我们以学生请求为例：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> axios from <span style="color:#d14">&#39;axios&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> students <span style="color:#000;font-weight:bold">=</span> {
</span></span><span style="display:flex;"><span>    get(params) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> axios({
</span></span><span style="display:flex;"><span>            url<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/students/getStudents&#39;</span>,
</span></span><span style="display:flex;"><span>            method<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;GET&#39;</span>,
</span></span><span style="display:flex;"><span>            params<span style="color:#000;font-weight:bold">:</span> params
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">delete</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    add() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    update() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> students;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3汇总请求模块-api">3、汇总请求模块 API</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> students from <span style="color:#d14">&#39;./modules/students.js&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> classes from <span style="color:#d14">&#39;./modules/classes.js&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> api <span style="color:#000;font-weight:bold">=</span> {
</span></span><span style="display:flex;"><span>    students<span style="color:#000;font-weight:bold">:</span> students,
</span></span><span style="display:flex;"><span>    classes<span style="color:#000;font-weight:bold">:</span> classes
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ... 其他模块
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> api;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="4全局挂载-api">4、全局挂载 API</h3>
<p>为了在组件中方便使用 api 对象，我们在 Vue 中，会将 api 对象通过 <code>prototype</code> 挂载到全局。</p>
<p>在 <code>main.js</code> 中配置以下代码，来实现 api 的全局挂载：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> api from <span style="color:#d14">&#39;@/api&#39;</span>;
</span></span><span style="display:flex;"><span>Vue.prototype.$api <span style="color:#000;font-weight:bold">=</span> api;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三组件中调用-api">三、组件中调用 API</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            tableData<span style="color:#000;font-weight:bold">:</span> [],
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    created() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.getStudents();
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">async</span> getStudents() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">const</span> res <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">await</span> <span style="color:#000;font-weight:bold">this</span>.$api.students.get();
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (res.code) {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">this</span>.tableData <span style="color:#000;font-weight:bold">=</span> res.data.rows;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="动态路由控制权限">动态路由控制权限</h1>
<p>在一般的管理系统中，在项目的权限页面中，除了要判断用户是否登录外，我们还需要对“已登录”的用户权限等级进行区分。</p>
<p>不同等级的用户，在系统首页中看到的菜单不一样。同时，为了防止低权限用户通过地址访问其他高权限页面，所以，我们需要将所有的权限路由都替换成动态路由。</p>
<p>只有当用户登录成功后，我们才开始配置对应权限的路由。</p>
<p>总结下来，我们需要做两件事情：</p>
<ol>
<li>首页菜单的分权限显示；</li>
<li>路由分权限进行动态配置；</li>
</ol>
<h2 id="一权限菜单渲染">一、权限菜单渲染</h2>
<p>首先，需要发送请求获取当前用户权限能访问的菜单数据。</p>
<h3 id="1配置状态机">1、配置状态机</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> <span style="color:#000;font-weight:bold">new</span> Vuex.Store({
</span></span><span style="display:flex;"><span>    state<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        authMenus<span style="color:#000;font-weight:bold">:</span> [], <span style="color:#998;font-style:italic">// 权限菜单数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    },
</span></span><span style="display:flex;"><span>    mutations<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        SET_AUTH_MENUS(state, payload) {
</span></span><span style="display:flex;"><span>            state.authMenus <span style="color:#000;font-weight:bold">=</span> payload;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    actions<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">async</span> getAuthMenusAsync({ commit }) {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">const</span> res <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">await</span> api.users.getAuthMenus();
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (res.code) {
</span></span><span style="display:flex;"><span>                commit(<span style="color:#d14">&#39;SET_AUTH_MENUS&#39;</span>, res.data);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2筛选菜单数据">2、筛选菜单数据</h3>
<p>在菜单组件中，调用 action 的方法，发送请求获取权限数据，然后根据权限数据来筛选菜单数据：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> { mapActions, mapState } from <span style="color:#d14">&#34;vuex&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            menus<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">// ... 完整的菜单数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            ],
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    created() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.getAuthMenusAsync();
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        ...mapState([<span style="color:#d14">&#34;authMenus&#34;</span>]),
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 根据权限数据 authMenus，筛选完整菜单 menus，得到一个权限菜单 filterMenus
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        filterMenus() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.menus
</span></span><span style="display:flex;"><span>                .map((item) =&gt; {
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">const</span> authChild <span style="color:#000;font-weight:bold">=</span> item.children.filter((child) =&gt; {
</span></span><span style="display:flex;"><span>                        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.authMenus.includes(child.path);
</span></span><span style="display:flex;"><span>                    });
</span></span><span style="display:flex;"><span>                    <span style="color:#998;font-style:italic">// 返回一级菜单对象
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    <span style="color:#000;font-weight:bold">return</span> { ...item, children<span style="color:#000;font-weight:bold">:</span> authChild };
</span></span><span style="display:flex;"><span>                })
</span></span><span style="display:flex;"><span>                .filter((item) =&gt; item.children.length);
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        ...mapActions([<span style="color:#d14">&#34;getAuthMenusAsync&#34;</span>]),
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></td></tr></table>
</div>
</div><p>为了能够查看到首页中菜单渲染的效果，可以先将 home 的路由配置成静态路由。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// router/index.js 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>, 
</span></span><span style="display:flex;"><span>        component<span style="color:#000;font-weight:bold">:</span> HomeView
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二配置动态路由">二、配置动态路由</h2>
<p>我们直接将首页以及首页下的所有二级路由，全都配置成动态路由。所以，首先需要先将之前配置的 home 的静态路由删掉。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// {
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//  path: &#39;/home&#39;,
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//  name: &#39;Home&#39;,  // 路由名称，可选
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//  component: HomeView
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// }
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="1判断用户是否登录">1、判断用户是否登录</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>router.beforeEach(<span style="color:#000;font-weight:bold">async</span> (to, from, next) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 当用户进入的页面不是登录也不是注册
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">if</span> (<span style="color:#000;font-weight:bold">!</span>to.path.includes(<span style="color:#d14">&#39;login&#39;</span>) <span style="color:#000;font-weight:bold">&amp;&amp;</span> <span style="color:#000;font-weight:bold">!</span>to.path.includes(<span style="color:#d14">&#39;register&#39;</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">const</span> token <span style="color:#000;font-weight:bold">=</span> localStorage.token;
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (token) {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 发送请求验证 token 是否过期，如果 token 没有过期，就获取用户信息
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">const</span> res <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">await</span> api.users.getUserInfo();
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (res.code) {
</span></span><span style="display:flex;"><span>                next();
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        MessageBox.alert(<span style="color:#d14">&#39;你还未登录，请先登录&#39;</span>, <span style="color:#d14">&#39;提示&#39;</span>, {
</span></span><span style="display:flex;"><span>            confirmButtonText<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;确定&#39;</span>,
</span></span><span style="display:flex;"><span>            callback<span style="color:#000;font-weight:bold">:</span> action =&gt; {
</span></span><span style="display:flex;"><span>                next(<span style="color:#d14">&#39;/login&#39;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 代码执行到这，表示用户进入的页面是登录或注册页面
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    next();
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><p>以上配置完成后，<strong>用户可以随意进入登录和注册页</strong>。同时，如果<strong>本地没有 token，在进入权限页面时会提示用户去登录</strong>，如果<strong>本地有 token，但是 token 过期，也会提示用户去登录</strong>。</p>
<h3 id="2配置动态路由">2、配置动态路由</h3>
<p>我们在 router 目录中，创建一个 <code>addRoutes.js</code> 文件，专门用来实现动态路由的配置。</p>
<p>首先，先将完整的子路由配置，以及路由对应的组件，在 <code>addRoutes.js</code> 文件保存：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> HomeView from <span style="color:#d14">&#39;../views/home/HomeView.vue&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> StudentsList from <span style="color:#d14">&#39;../views/students/StudentsList.vue&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// ... 引入所有路由对应的组件
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 项目中完整的路由
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">const</span> fullRoutes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ... 完整的路由对象的配置
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>封装一个生成动态路由的方法，并暴露出去：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> addRoutes <span style="color:#000;font-weight:bold">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> addRoutes;
</span></span></code></pre></td></tr></table>
</div>
</div><p>在全局导航守卫中，当我们确认<strong>用户已登录，且登录状态未过期</strong>时，就可以调用该方法来生成动态路由的配置。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> addRoutes from <span style="color:#d14">&#39;./addRoutes&#39;</span>;
</span></span><span style="display:flex;"><span>router.beforeEach(<span style="color:#000;font-weight:bold">async</span> (to, from, next) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 当用户进入的页面不是登录也不是注册
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">if</span> (<span style="color:#000;font-weight:bold">!</span>to.path.includes(<span style="color:#d14">&#39;login&#39;</span>) <span style="color:#000;font-weight:bold">&amp;&amp;</span> <span style="color:#000;font-weight:bold">!</span>to.path.includes(<span style="color:#d14">&#39;register&#39;</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">if</span> (token) {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 发送请求验证 token 是否过期，如果 token 没有过期，就获取用户信息
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">const</span> res <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">await</span> api.users.getUserInfo();
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (res.code) {
</span></span><span style="display:flex;"><span>                store.commit(<span style="color:#d14">&#39;SET_USER_INFO&#39;</span>, res.data); <span style="color:#998;font-style:italic">// 将用户信息保存到仓库
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                next();
</span></span><span style="display:flex;"><span>                addRoutes();   <span style="color:#998;font-style:italic">// 开始生成动态路由
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                <span style="color:#000;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>})
</span></span></code></pre></td></tr></table>
</div>
</div><p>配置动态路由，需要先获取到权限菜单数据。</p>
<p>前面我们在菜单组件中调用了请求获取了数据，但是，按照当前的代码执行，在配置动态路由时，菜单组件还没有创建，也就没办法发送请求获取权限数据。</p>
<p>因此，我们将菜单组件中发送请求的代码，换到配置动态路由的方法中来：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// created() {
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//     this.getAuthMenusAsync();
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// },
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// methods: {
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//     ...mapActions([&#34;getAuthMenusAsync&#34;]),
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// },
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>动态路由配置代码参考如下：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> addRoutes <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">async</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 等待请求完成，并将数据保存到 state 中
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">await</span> store.dispatch(<span style="color:#d14">&#39;getAuthMenusAsync&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    router.addRoute({
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,
</span></span><span style="display:flex;"><span>        component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>        children<span style="color:#000;font-weight:bold">:</span> fullRoutes.filter(item =&gt; store.state.authMenus.includes(item.path))
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>    router.addRoute({
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;*&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;NotFound&#39;</span>,
</span></span><span style="display:flex;"><span>        component<span style="color:#000;font-weight:bold">:</span> NotFound,
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="路由配置">路由配置</h1>
<h2 id="一基础配置">一、基础配置</h2>
<p>在项目的 <code>/src/router/index.js</code> 文件中，来进行路由配置：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>  path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>  name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,  <span style="color:#998;font-style:italic">// 路由名称，可选
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  component<span style="color:#000;font-weight:bold">:</span> HomeView
</span></span><span style="display:flex;"><span> },
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>  path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/login&#39;</span>,
</span></span><span style="display:flex;"><span>  name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Login&#39;</span>,  <span style="color:#998;font-style:italic">// 路由名称，可选
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  component<span style="color:#000;font-weight:bold">:</span> LoginView
</span></span><span style="display:flex;"><span> },
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>  path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/register&#39;</span>,
</span></span><span style="display:flex;"><span>  name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Register&#39;</span>,  <span style="color:#998;font-style:italic">// 路由名称，可选
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  component<span style="color:#000;font-weight:bold">:</span> RegisterView
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>项目中的每一个页面，都在 <code>routes</code> 数组中对应着一个对象。每一个对象都有三个属性：</p>
<ol>
<li><code>path</code>：浏览器路径；</li>
<li><code>name</code>：路由名称（可选）；</li>
<li><code>component</code>：组件；</li>
</ol>
<h2 id="二路由出口">二、路由出口</h2>
<p>当用户在浏览器中访问某一个路径时，路由会判断当前路径的 path，然后找到该路径所对应的组件。</p>
<p>但是，路由找到组件后，并不知道组件在什么位置进行渲染，因此，我们需要给路由设置一个路由出口。</p>
<p>Vue Router 中提供了一个 <code>&lt;router-view&gt;</code> 标签，用来作为路由出口。</p>
<p>例如，我们可以在 <code>App.vue</code> 中设置一个路由出口：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">router-view</span>&gt;&lt;/<span style="color:#000080">router-view</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>&lt;router-view&gt;</code> 标签所在的位置，就是当前路径对应组件渲染的位置。</p>
<h2 id="三路由懒加载">三、路由懒加载</h2>
<p>传统的路由组件的加载方式，是在页面刷新时，就先将所有的组件都提前加载在内存中。当路由路径匹配成功后，直接渲染内存中的组件。</p>
<p>例如：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> HomeView from <span style="color:#d14">&#39;../views/home/HomeView.vue&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> LoginView from <span style="color:#d14">&#39;../views/login/LoginView.vue&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>路由懒加载，指的是只有当用户访问到对应的路由后，才开始加载对应的组件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> RegisterView <span style="color:#000;font-weight:bold">=</span> () =&gt; <span style="color:#000;font-weight:bold">import</span>(<span style="color:#d14">&#39;../views/register/RegisterView.vue&#39;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>路由配置参考如下：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,  <span style="color:#998;font-style:italic">// 路由名称，可选
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        component<span style="color:#000;font-weight:bold">:</span> HomeView
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/login&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Login&#39;</span>,  <span style="color:#998;font-style:italic">// 路由名称，可选
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        component<span style="color:#000;font-weight:bold">:</span> LoginView
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/register&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Register&#39;</span>,  <span style="color:#998;font-style:italic">// 路由名称，可选
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        component<span style="color:#000;font-weight:bold">:</span> RegisterView
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="四路由重定向">四、路由重定向</h2>
<p>路由重定向，指的就是可以将一个 <code>path</code> 直接重定向到另一个 <code>path</code>。</p>
<p>例如，将 <code>/</code> 路径重定向到 <code>/home</code>，就表示只要用户访问 <code>/</code> 时，会直接跳转到 <code>/home</code>。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 重定向
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/&#39;</span>,
</span></span><span style="display:flex;"><span>        redirect<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// .. 其他路由配置
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="五404-页面配置">五、404 页面配置</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> NotFound <span style="color:#000;font-weight:bold">=</span> () =&gt; <span style="color:#000;font-weight:bold">import</span>(<span style="color:#d14">&#39;../views/not-found/NotFound.vue&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...其他路由配置
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 404 页面
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;*&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;NotFound&#39;</span>,
</span></span><span style="display:flex;"><span>        component<span style="color:#000;font-weight:bold">:</span> NotFound
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="六路由模式">六、路由模式</h2>
<p>Vue Router 中，路由分为两种模式：</p>
<ol>
<li><code>history</code>：</li>
<li><code>hash</code>：浏览器的路径中会出现 <code>#</code></li>
</ol>
<p>如果我们需要配置成 <code>history</code> 模式：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> router <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> VueRouter({
</span></span><span style="display:flex;"><span> mode<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;history&#39;</span>,
</span></span><span style="display:flex;"><span> base<span style="color:#000;font-weight:bold">:</span> process.env.BASE_URL,
</span></span><span style="display:flex;"><span> routes
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果我们需要配置成 <code>hash</code> 模式：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> router <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> VueRouter({
</span></span><span style="display:flex;"><span> routes
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="stategetters-和-mutations-的使用">state、getters 和 mutations 的使用</h1>
<h2 id="一state-的使用">一、state 的使用</h2>
<h3 id="1设置-state">1、设置 state</h3>
<p>state 对象中用来保存公共数据。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> <span style="color:#000;font-weight:bold">new</span> Vuex.Store({
</span></span><span style="display:flex;"><span>    state<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        userInfo<span style="color:#000;font-weight:bold">:</span> { username<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;张三&#39;</span> }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2获取-state">2、获取 state</h3>
<p>在所有的组件中，都可以直接通过 <code>this.$store</code> 获取到仓库对象。仓库对象身上有一个 state 属性，用来获取仓库中 state 中所有的数据。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>&lt;<span style="color:#000080">p</span>&gt;欢迎你<span style="color:#a61717;background-color:#e3d2d2">，</span>{{$store.state.userInfo.username}}&lt;/<span style="color:#000080">p</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>或者将仓库数据交给组件自己的计算属性：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">p</span>&gt;欢迎你，{{username}}&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        username() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.$store.state.userInfo.username;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二mutations">二、mutations</h2>
<h3 id="1设置-mutations">1、设置 mutations</h3>
<p>mutations 用来设置修改 state 数据的方法：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> <span style="color:#000;font-weight:bold">new</span> Vuex.Store({
</span></span><span style="display:flex;"><span>    state<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        userInfo<span style="color:#000;font-weight:bold">:</span> { username<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;张三&#39;</span> }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    mutations<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        SET_USER_INFO(state, payload) {
</span></span><span style="display:flex;"><span>            state.userInfo <span style="color:#000;font-weight:bold">=</span> payload;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><p>mutations 的参数说明：</p>
<ul>
<li><code>state</code>：mutations 中的每一个方法，默认的第一个参数都是 state，用来接收仓库中的 state 对象；</li>
<li><code>payload</code>：payload 用来接收外部调用当前方法时传递的参数，可选；</li>
</ul>
<h3 id="2调用-mutations">2、调用 mutations</h3>
<p>组件中，要调用 mutations 的方法，需要通过 <code>commit()</code> 的方法：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">this</span>.$store.commit(<span style="color:#d14">&#39;SET_USER_INFO&#39;</span>, { username<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;李四&#39;</span> });
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果是在组件以外的其他文件中，要调用 mutations 的方法，需要先引入 store：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> store from <span style="color:#d14">&#39;@/store&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>store.commit(<span style="color:#d14">&#39;SET_USER_INFO&#39;</span>, { username<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;李四&#39;</span> });
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三getters-的使用">三、getters 的使用</h2>
<p>在仓库中，可以通过 getters 来对 state 中的数据进行计算，从而得到一条新的数据。</p>
<h3 id="1设置-getters">1、设置 getters</h3>
<p>仓库中通过 getters 处理 state：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> <span style="color:#000;font-weight:bold">new</span> Vuex.Store({
</span></span><span style="display:flex;"><span>    state<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        userInfo<span style="color:#000;font-weight:bold">:</span> { username<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;张三&#39;</span> }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    getters<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        username(state) {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> state.userInfo.username;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// username: state =&gt; state.userInfo.username 简写
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><p>getters 中所有的属性都是方法，每一个 getters 的方法，默认的第一个参数都是 <code>state</code>，用来接收仓库中的 state 对象。</p>
<p>注意：getters 的方法中不能修改state。</p>
<h3 id="2获取-getters">2、获取 getters</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">p</span>&gt;欢迎你，{{$store.getters.username}}&lt;/<span style="color:#000080">p</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">p</span>&gt;欢迎你，{{username}}&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        username() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.$store.getters.username;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="准备工作">准备工作</h1>
<h2 id="一vscode-安装插件">一、VSCode 安装插件</h2>
<p>在 VSCode 中安装以下插件：</p>
<p><img src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/web/jianglan/20220719124911.png" alt="image-20220719124911669"></p>
<h2 id="二项目结构">二、项目结构</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vue-demo
</span></span><span style="display:flex;"><span> |--- node_modules
</span></span><span style="display:flex;"><span> |--- public
</span></span><span style="display:flex;"><span> |     |--- favicon.ico    <span style="color:#998;font-style:italic"># 浏览器标题栏的小图标</span>
</span></span><span style="display:flex;"><span> |     |--- index.html     <span style="color:#998;font-style:italic"># 项目页面</span>
</span></span><span style="display:flex;"><span> |--- src
</span></span><span style="display:flex;"><span> |   |--- assets    <span style="color:#998;font-style:italic"># 静态资源文件，例如图片、字体图标等</span>
</span></span><span style="display:flex;"><span> |   |--- components  <span style="color:#998;font-style:italic"># 组件</span>
</span></span><span style="display:flex;"><span> |    |--- App.vue   <span style="color:#998;font-style:italic"># 最外层容器组件</span>
</span></span><span style="display:flex;"><span> |    |--- main.js    <span style="color:#998;font-style:italic"># 项目入口文件</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="生命周期函数">生命周期函数</h1>
<h2 id="一概念-1">一、概念</h2>
<h3 id="1组件的生命周期">1、组件的生命周期</h3>
<p>组件的生命周期，指的就是一个组件从创建到销毁的整个过程，在整个过程中我们可以将其分成四个阶段：</p>
<ol>
<li>组件创建阶段：在内存中将组件创建出来</li>
<li>组件挂载阶段：将内存中的组件渲染到页面中</li>
<li>组件更新阶段：当组件内部数据发生改变时，组件重新渲染</li>
<li>组件销毁阶段：当组件从节点中消失</li>
</ol>
<h3 id="2生命周期函数">2、生命周期函数</h3>
<p>生命周期函数，指的是 Vue 在组件生命周期的各个阶段，提供了对应的一些函数。当组件的生命周期到达某一个阶段时，就会自动调用对应的生命周期函数。</p>
<h2 id="二生命周期函数">二、生命周期函数</h2>
<p>Vue 中总共提供了 8 个生命周期函数。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h1</span>&gt;生命周期函数&lt;/<span style="color:#000080">h1</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">p</span>&gt;{{ msg }}&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#a61717;background-color:#e3d2d2">@</span><span style="color:#008080">click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;msg = &#39;world&#39;&#34;</span>&gt;更新&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#a61717;background-color:#e3d2d2">@</span><span style="color:#008080">click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;$destroy()&#34;</span>&gt;销毁&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            msg<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;hello&#34;</span>,
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    beforeCreate() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#d14">&#34;beforeCreate 组件创建前&#34;</span>, <span style="color:#000;font-weight:bold">this</span>.msg);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    created() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#d14">&#34;created 组件创建完成&#34;</span>, <span style="color:#000;font-weight:bold">this</span>.msg);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    beforeMount() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#d14">&#34;beforeMount 组件挂载前&#34;</span>);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    mounted() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#d14">&#34;mounted 组件挂载完成&#34;</span>);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    beforeUpdate() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#d14">&#34;beforeUpdate 组件更新前&#34;</span>);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    updated() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#d14">&#34;updated 组件更新完成&#34;</span>);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    beforeDestroy() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#d14">&#34;beforeDestroy 组件销毁前&#34;</span>);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    destroyed() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#d14">&#34;beforeDestroy 组件销毁完成&#34;</span>);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="动态路由优化">动态路由优化</h1>
<p>前面我们实现了动态菜单和动态路由的基本配置，但是会有一些 bug，所以我们还需要对它们做进一步的优化。</p>
<h2 id="一防止已登陆用户重复登录">一、防止已登陆用户重复登录</h2>
<p>正常情况下来说，一个已经登录了的用户，除非退出登录，否则是不能再手动跳转到登录页面去重新登录的。</p>
<p>所以，我们需要在全局导航守卫中对“跳转到登录”做进一步的判断：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>router.beforeEach(<span style="color:#000;font-weight:bold">async</span> (to, from, next) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 当用户进入的页面不是登录也不是注册(例如进入首页)
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">if</span> (<span style="color:#000;font-weight:bold">!</span>to.path.includes(<span style="color:#d14">&#39;login&#39;</span>) <span style="color:#000;font-weight:bold">&amp;&amp;</span> <span style="color:#000;font-weight:bold">!</span>to.path.includes(<span style="color:#d14">&#39;register&#39;</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// ....
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 判断用户是否想要进入登录页
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">if</span> (to.path.includes(<span style="color:#d14">&#39;login&#39;</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">const</span> token <span style="color:#000;font-weight:bold">=</span> localStorage.token;
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 如果有 token，判定为已登录，不让用户进入登录页面
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">if</span> (token) {
</span></span><span style="display:flex;"><span>            next(<span style="color:#000;font-weight:bold">false</span>);  <span style="color:#998;font-style:italic">// 停留在当前页面
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    next();
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><p>以上配置代码的逻辑是：如果进入登录页的用户，本地还有 token，我们就判定为是已登录用户，就强制让其停留在当前页面，不能跳转到登录页。</p>
<p>但是注意！！！这样处理了之后会有另一个 bug，就是用户在页面中，如果因为正常的 token 过期想要跳转到登录页，也跳转不过去了。因为我们刚刚在导航守卫里限制的是“只要本地有 token，就不让用户去重新登录”。</p>
<p>解决方案也很简单，我们直接在 <code>utils/request.js</code> 文件的 axios 响应拦截器中，当判断用户是 401 身份过期后，我们就将本地存储的 token 删掉，再跳转到登录页：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>axios.interceptors.response.use((res) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> res.data;
</span></span><span style="display:flex;"><span>}, (err) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> (err <span style="color:#000;font-weight:bold">&amp;&amp;</span> err.response <span style="color:#000;font-weight:bold">&amp;&amp;</span> err.response.status) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (err.response.status <span style="color:#000;font-weight:bold">===</span> <span style="color:#099">401</span>) {
</span></span><span style="display:flex;"><span>            MessageBox.alert(<span style="color:#d14">&#39;登录已过期，请重新登录&#39;</span>, <span style="color:#d14">&#39;提示&#39;</span>, {
</span></span><span style="display:flex;"><span>                confirmButtonText<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;确定&#39;</span>,
</span></span><span style="display:flex;"><span>                callback<span style="color:#000;font-weight:bold">:</span> action =&gt; {
</span></span><span style="display:flex;"><span>                    localStorage.removeItem(<span style="color:#d14">&#39;token&#39;</span>);  <span style="color:#998;font-style:italic">// 删除 token
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    router.replace(<span style="color:#d14">&#39;/login&#39;</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            });
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#0086b3">Promise</span>.reject(err.message);
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></td></tr></table>
</div>
</div><p>以上配置完成后，就可以让已登录用户无法进入登录页面，同时也可以让 token 过期的用户进入到登录页面。</p>
<h2 id="二退出登录">二、退出登录</h2>
<p>已登录的用户如果想要切换账号登录，必须退出登录后，再重新登录。</p>
<p>所以我们可以在页面中给用户一个“退出”按钮，然后在退出登录的事件中做以下处理：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        logout() {
</span></span><span style="display:flex;"><span>            localStorage.removeItem(<span style="color:#d14">&#34;token&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.$router.push(<span style="color:#d14">&#34;/login&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 刷新页面（重置路由、重置权限菜单的数据）
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            location.reload();
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三防止重复添加动态路由">三、防止重复添加动态路由</h2>
<p>由于我们是在导航守卫中进行的“动态路由”的添加，所以每次进入导航守卫时，都有可能重复的添加动态路由，导致我们浏览器的控制台的中会不断的抛出黄色警告说路由重复：</p>
<p><img src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/web/jianglan/20220804183105.png" alt="image-20220804183105018"></p>
<p>因此，我们需要在 <code>router/addRoutes.js</code> 中添加一个判断，来阻止动态路由的重复添加：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> addRoutes <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">async</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 判断权限数据是否为空，为空的话才进入 if 请求权限数据、添加动态路由
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 目的就是为了防止重复请求权限数据、重复添加动态路由
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">if</span> (store.state.authMenus.length <span style="color:#000;font-weight:bold">===</span> <span style="color:#099">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 等待请求完成，并将数据保存到 state 中
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">await</span> store.dispatch(<span style="color:#d14">&#39;getAuthMenusAsync&#39;</span>);
</span></span><span style="display:flex;"><span>        router.addRoute({
</span></span><span style="display:flex;"><span>            path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>            name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,
</span></span><span style="display:flex;"><span>            component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>            children<span style="color:#000;font-weight:bold">:</span> fullRoutes.filter(item =&gt; {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">return</span> store.state.authMenus.includes(item.path);
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 404 放到所有路由的最后
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        router.addRoute({
</span></span><span style="display:flex;"><span>            path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;*&#39;</span>,
</span></span><span style="display:flex;"><span>            name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;NotFound&#39;</span>,
</span></span><span style="display:flex;"><span>            component<span style="color:#000;font-weight:bold">:</span> NotFound,
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="四筛选-path-的动态路由">四、筛选 path 的动态路由</h2>
<p>在我们的项目中，有一个页面的路由路径是带动态参数的动态路由，例如修改学生的路由路径配置如下：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsUpdate/:id&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>这种动态路径，如果按照我们之前筛选路由的方式来添加动态路由，就会匹配不上，所以，我们还需要对前面筛选动态路由进行修改：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> addRoutes <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">async</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ....
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    router.addRoute({
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,
</span></span><span style="display:flex;"><span>        component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>        children<span style="color:#000;font-weight:bold">:</span> fullRoutes.filter(item =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// item.path.split(&#39;/&#39;)[0] 获取动态路由路径的前半部分
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">return</span> store.state.authMenus.includes(item.path.split(<span style="color:#d14">&#39;/&#39;</span>)[<span style="color:#099">0</span>]); 
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="路由跳转">路由跳转</h1>
<p>Vue Router 中提供了两种路由跳转的方式：</p>
<ol>
<li>标签（组件）跳转</li>
<li>API 跳转</li>
</ol>
<h2 id="一标签组件跳转">一、标签（组件）跳转</h2>
<p>Vue Router 中提供了一个 <code>&lt;router-link&gt;</code> 来实现路由的跳转：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">router-link</span> <span style="color:#008080">to</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;/register&#34;</span>&gt;没有账号？去注册&lt;/<span style="color:#000080">router-link</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中，<code>to</code> 属性用来设置跳转的路径。</p>
<h3 id="to">to</h3>
<p><code>to</code> 属性的值，除了可以给一个路径字符串以外，还可以设置成对象：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">router-link</span> <span style="color:#008080">:to</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{ path: &#39;/register&#39; }&#34;</span>&gt;没有账号？去注册&lt;/<span style="color:#000080">router-link</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">router-link</span> <span style="color:#008080">:to</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{ name: &#39;Register&#39; }&#34;</span>&gt;没有账号？去注册&lt;/<span style="color:#000080">router-link</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二api-跳转">二、API 跳转</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        register() {
</span></span><span style="display:flex;"><span>            alert(<span style="color:#d14">&#34;注册成功&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.$router.push(<span style="color:#d14">&#34;/login&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.$router.push({
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;/login&#34;</span>,
</span></span><span style="display:flex;"><span>            });
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.$router.push({
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Login&#34;</span>,
</span></span><span style="display:flex;"><span>            });
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三其他跳转方式">三、其他跳转方式</h2>
<h3 id="1replace-跳转">1、replace 跳转</h3>
<p>replace 跳转，指的就是跳转后的新路由会替换掉旧路由的访问记录，意味着用户能再返回上一个页面。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">router-link</span> <span style="color:#008080">to</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;/home&#34;</span> <span style="color:#008080">replace</span>&gt;首页&lt;/<span style="color:#000080">router-link</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">router-link</span> <span style="color:#008080">to</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;/home&#34;</span> <span style="color:#008080">:replace</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;true&#34;</span>&gt;首页&lt;/<span style="color:#000080">router-link</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        toHome() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.$router.replace(<span style="color:#d14">&#39;/home&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2其他跳转">2、其他跳转</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">this</span>.$router.go(<span style="color:#099">1</span>);     <span style="color:#998;font-style:italic">// 前进一个页面
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">this</span>.$router.go(<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>);    <span style="color:#998;font-style:italic">// 回退一个页面
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">this</span>.$router.go(<span style="color:#099">0</span>);     <span style="color:#998;font-style:italic">// 刷新当前页面
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">this</span>.$router.forward(); <span style="color:#998;font-style:italic">// 前进一个页面
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">this</span>.$router.back();    <span style="color:#998;font-style:italic">// 回退一个页面
</span></span></span></code></pre></td></tr></table>
</div>
</div><h1 id="actions">actions</h1>
<h2 id="一创建-action-方法">一、创建 action 方法</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> <span style="color:#000;font-weight:bold">new</span> Vuex.Store({
</span></span><span style="display:flex;"><span>    actions<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        方法名(context, payload) {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 发送异步请求
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><p>参数说明：</p>
<ul>
<li><code>context</code>：当前的 store 对象；</li>
<li><code>payload</code>：接收外部传递的参数，可选；</li>
</ul>
<h2 id="二调用-action-方法">二、调用 action 方法</h2>
<p>在组件中，如果要调用 action 的方法，需要通过 <code>dispatch()</code> 方法：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">this</span>.$store.dispatch(<span style="color:#d14">&#39;getSubjectsAsync&#39;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三处理-action-请求结果">三、处理 action 请求结果</h2>
<p>action 的请求结果，通常有两种处理方法：</p>
<ol>
<li><strong>请求结果多个组件需要使用</strong>：将请求结果保存到 state 中；</li>
<li><strong>请求结果只有一个组件需要使用</strong>：将请求结果 return 返回给组件；</li>
</ol>
<h3 id="1请求结果保存到-state">1、请求结果保存到 state</h3>
<p>action 中不能直接修改 state，所以，如果要<strong>将 action 的请求结果保存到 state 中</strong>，需要经过以下步骤：</p>
<ol>
<li>action 调用 mutations 的方法，并将数据传递给 mutations；</li>
<li>mutations 中接收到数据后，用新数据去修改 state；</li>
</ol>
<p>示例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> <span style="color:#000;font-weight:bold">new</span> Vuex.Store({
</span></span><span style="display:flex;"><span>    state<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        subjects<span style="color:#000;font-weight:bold">:</span> [],  <span style="color:#998;font-style:italic">// 专业数据的初始值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    },
</span></span><span style="display:flex;"><span>    mutations<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        SET_SUBJECTS(state, payload) {
</span></span><span style="display:flex;"><span>            state.subjects <span style="color:#000;font-weight:bold">=</span> payload.rows;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    actions<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">async</span> getSubjectsAsync(context) {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">const</span> res <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">await</span> api.subjects.get();
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (res.code) {
</span></span><span style="display:flex;"><span>                context.commit(<span style="color:#d14">&#39;SET_SUBJECTS&#39;</span>, res.data);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="事件总线">事件总线</h1>
<h2 id="一工作原理">一、工作原理</h2>
<p>事件总线，主要用来是实现非父子组件之间的传值。它的工作原理：通过 <code>new Vue()</code> 再创建一个新的 vue 实例对象 <code>bus</code>，将这个新的实例对象作为桥梁，来实现两个组件之间的传值。</p>
<p>例如：当组件 A 想要传值给组件 B 时，步骤如下图所示：</p>
<p><img src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/web/jianglan/20220726140840.png" alt=""></p>
<h2 id="二工作步骤">二、工作步骤</h2>
<h3 id="1创建事件总线-bus">1、创建事件总线 bus</h3>
<p>我们可以在项目的 <code>src</code> 目录中，新建一个 <code>/utils/bus.js</code> 文件，然后在该文件中，来生成 bus 对象：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> Vue from <span style="color:#d14">&#34;vue&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> bus <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Vue();
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> bus;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2给-bus-添加事件">2、给 bus 添加事件</h3>
<p>我们需要在“<strong>接收数据</strong>”的组件中，给事件总线身上添加一个事件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> bus from <span style="color:#d14">&#34;./bus.js&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            num<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    mounted() {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 给事件总线身上添加一个事件(箭头函数默认不会执行)
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        bus.$on(<span style="color:#d14">&#34;getData&#34;</span>, (data) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// console.log(&#34;组件B接收到其他组件传递的数据&#34;, data);
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">this</span>.num <span style="color:#000;font-weight:bold">=</span> data;
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3调用-bus-的事件">3、调用 bus 的事件</h3>
<p>我们在需要“传递数据”的组件中，来调用事件总线身上的方法，同时传值：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> bus from <span style="color:#d14">&#34;./bus.js&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            num<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span>,
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        postData() {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 调用事件总线身上的方法，同时传值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            bus.$emit(<span style="color:#d14">&#39;getData&#39;</span>, <span style="color:#000;font-weight:bold">this</span>.num);
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三注意事项">三、注意事项</h2>
<p>在使用事件总线时，<strong>负责“接收数据”的组件，需要提前先渲染出来</strong>，执行生命周期函数，同时给事件总线添加事件。</p>
<p>如果“接收数据”和“传递数据”的组件是同时渲染出来的，我们就可以用事件总线来实现两个组件之间的传值。但是，如果“接收数据”的组件，比“传递数据”的组件后渲染，就不能使用事件总线。</p>
<h1 id="组件">组件</h1>
<h2 id="一组件的概念">一、组件的概念</h2>
<p>我们可以把每一个页面都划分成一块一块的小区域，这些小区域经过各种方式的组合，拼凑成的一个完整的页面。</p>
<p>在 Vue 应用中，这些构成完整页面的每一块区域，都可以变成一个单独的“组件”。</p>
<h2 id="二单文件组件">二、单文件组件</h2>
<p>单文件组件，是指每一个以 <code>.vue</code> 为后缀名的文件，都是一个组件（建议组件名以大驼峰命名法进行命名）。</p>
<p>每一个单文件组件都是由三部分组成：</p>
<ol>
<li>template：必须的</li>
<li>script：可选的</li>
<li>style：可选的</li>
</ol>
<h2 id="三组件嵌套">三、组件嵌套</h2>
<p>我们通常都需要在一个组件中，去嵌套渲染另一个组件。使用步骤如下：</p>
<ol>
<li>引入子组件：</li>
<li>注册子组件：</li>
<li>渲染子组件：</li>
</ol>
<h3 id="1引入子组件">1、引入子组件</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> Child from <span style="color:#d14">&#39;./components/Child.vue&#39;</span>;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2注册子组件">2、注册子组件</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> Child from <span style="color:#d14">&#39;./components/Child.vue&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    components<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        Child
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3渲染子组件">3、渲染子组件</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#000080">Child</span>&gt;&lt;/<span style="color:#000080">Child</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="自定义指令">自定义指令</h1>
<p>Vue 中提供了许多以  <code>v-</code> 开头的特殊属性用来标签身上，这些特殊属性都称为“指令”。</p>
<p>自定义指令，指的就是我们可以自己定义一个以 <code>v-</code> 开头的指令用来标签身上，而指令具体的功能，也由我们自己来定义。</p>
<h2 id="一基础语法">一、基础语法</h2>
<p>自定义指令分为全局指令和局部指令。</p>
<h3 id="1全局指令">1、全局指令</h3>
<p>全局指令可以作用于应用中的所有组件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> Vue from <span style="color:#d14">&#39;vue&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Vue.directive(<span style="color:#d14">&#39;指令名&#39;</span>, {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 指令内容
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>});
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2局部指令">2、局部指令</h3>
<p>局部指令只可以作用于当前组件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    directives<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        指令名<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 指令内容
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二钩子函数">二、钩子函数</h2>
<p>每一个自定义指令的对象中，都提供了以下几个钩子函数：</p>
<ol>
<li><code>bind</code>：只会执行一次，当指令第一次绑定到元素身上时执行，我们可以在这里面做一些一次性的初始化设置；</li>
<li><code>inserted</code>：当指令所在元素被添加到父节点中时执行；</li>
<li><code>update</code>：组件更新时执行；</li>
<li><code>unbind</code>：指调用一次，当指令与元素解绑时执行；</li>
</ol>
<p>语法结构：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>Vue.directive(<span style="color:#d14">&#39;指令名&#39;</span>, {
</span></span><span style="display:flex;"><span>    inserted(el, binding) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三示例">三、示例</h2>
<p>例如我们要根据不同权限用户来控制按钮的权限。</p>
<p>我们可以在 src 目录中创建一个 <code>directives/index.js</code> 文件，设置以下代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> store from <span style="color:#d14">&#34;@/store&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> Vue from <span style="color:#d14">&#34;vue&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Vue.directive(<span style="color:#d14">&#39;auth&#39;</span>, {
</span></span><span style="display:flex;"><span>    inserted(el, binding) {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 如果当前登录用户不是最高权限
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">if</span> (store.state.userInfo.auth <span style="color:#000;font-weight:bold">!=</span> <span style="color:#099">2</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// el.remove();
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            el.disabled <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span>;   <span style="color:#998;font-style:italic">// 有禁用功能
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            el.classList.add(<span style="color:#d14">&#39;is-disabled&#39;</span>);  <span style="color:#998;font-style:italic">// 有禁用样式
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后在 <code>main.js</code> 中引入该文件：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#d14">&#39;./directives&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>最后，在需要控制权限的按钮身上使用该指令即可：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">el-button</span> <span style="color:#008080">v-auth</span> <span style="color:#008080">size</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;mini&#34;</span> <span style="color:#008080">type</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;danger&#34;</span> <span style="color:#a61717;background-color:#e3d2d2">@</span><span style="color:#008080">click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;handleDelete(scope.row)&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    删除
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">el-button</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="嵌套路由">嵌套路由</h1>
<p>嵌套路由，指的是在原有路由的基础上，继续添加下一级路由。</p>
<h2 id="一配置嵌套路由">一、配置嵌套路由</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>, 
</span></span><span style="display:flex;"><span>        component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 嵌套路由
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        children<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsList&#39;</span>,  <span style="color:#998;font-style:italic">// 子路由的 path 不要以“/”开头
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsList&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsList
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsAdd&#39;</span>,
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsAdd&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsAdd
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>配置完成后，我们就可以在浏览器中通过 <code>/home/studentsList</code> 来进行访问。</p>
<h2 id="二配置子路由出口">二、配置子路由出口</h2>
<p>子路由配置成功后，还需要在父级路由的组件中，来设置子路由组件的出口。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">el-main</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">router-view</span>&gt;&lt;/<span style="color:#000080">router-view</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">el-main</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三嵌套路由的跳转">三、嵌套路由的跳转</h2>
<p>我们在前面学习的路由跳转方式，都可以用来做嵌套路由的跳转。需要注意的是，<strong>在跳转嵌套路由时，必须设置完整的跳转路径。</strong></p>
<p>例如，我们想要跳转到首页中的学生列表：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">router-link</span> <span style="color:#008080">to</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;/home/studentsList&#34;</span>&gt;学生列表&lt;/<span style="color:#000080">router-link</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">this</span>.$router.push(<span style="color:#d14">&#39;/home/studentsList&#39;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="辅助函数">辅助函数</h1>
<p>如果用传统的方式去获取 Vuex 中的数据或方法，每次都需要通过 <code>this.$store</code> 去进行操作，这样的操作方式比较繁琐。所以，Vuex 中还给我们提供了辅助函数的形式，来优化对 Vuex 的操作。</p>
<h2 id="一辅助函数的概念">一、辅助函数的概念</h2>
<p>Vuex 总共提供了四个辅助函数：</p>
<ul>
<li><code>mapState()</code>：获取 state 数据</li>
<li><code>mapGetters()</code>：获取 getters 数据</li>
<li><code>mapMutations()</code>：获取 mutations 方法</li>
<li><code>mapActions()</code>：获取 actions 方法</li>
</ul>
<p>mapState 和 mapGetters 这两个辅助函数的原理，就是将 state 和 getters 中数据，拿到组件自己的 computed 中来，变成组件自己的计算属性来使用。</p>
<p>mapMutations 和 mapActions 这两个辅助函数的原理，就是 mutations 和 actions 中的方法，拿到组件自己的 methods 中来，变成组件自己的方法来调用。</p>
<h2 id="二使用-1">二、使用</h2>
<h3 id="1引入-1">1、引入</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> { mapState, mapGetters, mapMutations, mapActions } from <span style="color:#d14">&#39;vuex&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2调用">2、调用</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        ...mapState([<span style="color:#d14">&#39;state中的数据名&#39;</span>, <span style="color:#d14">&#39;state中的数据名&#39;</span>]),
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 例如：...mapState([&#39;userInfo&#39;, &#39;subjects&#39;]),
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        ...mapGetters([<span style="color:#d14">&#39;getters中的数据名&#39;</span>])
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 例如：...mapGetters([&#39;username&#39;]),
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        ...mapMutations([<span style="color:#d14">&#39;mutations中的方法名&#39;</span>, <span style="color:#d14">&#39;mutations中的方法名&#39;</span>]),
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 例如：...mapMutations([&#39;SET_SUBJECTS&#39;]),
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        ...mapActions([<span style="color:#d14">&#39;actions中的方法名&#39;</span>])
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 例如：...mapActions([&#39;getSubjectsAsync&#39;]),
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>通过以上辅助函数的调用获取后，Vuex 中的数据和方法，都会变成组件自己的计算属性和方法。</p>
<h1 id="数据与渲染">数据与渲染</h1>
<h2 id="一数据">一、数据</h2>
<p>每一个组件中，都有一个 <code>data</code> 属性，用来设置当前组件所需要的数据。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 组件所需要的数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            msg<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Hello&#34;</span>,
</span></span><span style="display:flex;"><span>            name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;张三&#34;</span>,
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二渲染数据">二、渲染数据</h2>
<h3 id="1模板语法">1、模板语法</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h1</span>&gt;{{ msg }}&lt;/<span style="color:#000080">h1</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h1</span>&gt;{{ name }}&lt;/<span style="color:#000080">h1</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 组件所需要的数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            msg<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Hello&#34;</span>,
</span></span><span style="display:flex;"><span>            name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;张三&#34;</span>,
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>说明：双括号可以放所有的 JS 表达式。
JS 表达式，指的就是这一段代码执行完成后，会留下一个最终的值。例如：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> num <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">10</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>num <span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">?</span> <span style="color:#d14">&#39;正数&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;负数&#39;</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2v-text-和-v-html">2、v-text 和 v-html</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h2</span> <span style="color:#008080">v-text</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;name&#34;</span>&gt;&lt;/<span style="color:#000080">h2</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h2</span> <span style="color:#008080">v-html</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;msg&#34;</span>&gt;&lt;/<span style="color:#000080">h2</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            msg<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;&lt;a href=&#39;#&#39;&gt;Hello&lt;/a&gt;&#34;</span>,
</span></span><span style="display:flex;"><span>            name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;张三&#34;</span>,
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="动态组件">动态组件</h1>
<h2 id="一基础语法-1">一、基础语法</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#000080">button</span> <span style="color:#a61717;background-color:#e3d2d2">@</span><span style="color:#008080">click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;currentTab = &#39;TabA&#39;&#34;</span>&gt;TabA&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#000080">button</span> <span style="color:#a61717;background-color:#e3d2d2">@</span><span style="color:#008080">click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;currentTab = &#39;TabB&#39;&#34;</span>&gt;TabB&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#000080">component</span> <span style="color:#008080">:is</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;currentTab&#34;</span>&gt;&lt;/<span style="color:#000080">component</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">import</span> TabA from <span style="color:#d14">&#34;./TabA.vue&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">import</span> TabB from <span style="color:#d14">&#34;./TabB.vue&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        data() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                currentTab<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;TabA&#34;</span>,
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        components<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            TabA,
</span></span><span style="display:flex;"><span>            TabB,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二生命周期">二、生命周期</h2>
<p>所有的动态组件在切换时，默认都会不断的进行销毁和重建。</p>
<p>每一个组件被切换走时，都会触发销毁阶段的两个生命周期函数：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    beforeDestroy() {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    destroyed() {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>每一个组件被切换显示时，都会触发创建阶段和挂载阶段的四个生命周期函数：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    beforeCreate() {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    created() {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    beforeMount() {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    mounted() {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="过滤器">过滤器</h1>
<p>Vue 中的过滤器，就是我们可以传递一个数据给过滤器，然后在过滤器对数据进行处理，最后返回一个过滤之后的新数据。</p>
<h2 id="一创建过滤器">一、创建过滤器</h2>
<p>过滤器分为全局过滤器和局部过滤器。</p>
<h3 id="1全局过滤器">1、全局过滤器</h3>
<p>全局过滤器可以作用于应用中的所有组件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> Vue from <span style="color:#d14">&#39;vue&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Vue.filter(<span style="color:#d14">&#39;过滤器名&#39;</span>, <span style="color:#000;font-weight:bold">function</span>(value) {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> 新数据;
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2局部过滤器">2、局部过滤器</h3>
<p>局部过滤器只作用于当前组件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    filters<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        过滤器名(value) {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> 新数据;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二使用过滤器">二、使用过滤器</h2>
<p>过滤器可以用在纯文本中，也可以用在标签的属性中。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">p</span>&gt;文本内容 | 过滤器名&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">p</span> <span style="color:#008080">v-bind:class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;内容 | 过滤器名&#34;</span>&gt;&lt;/<span style="color:#000080">p</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三示例-1">三、示例</h2>
<p>我们对学生列表中学生的性别进行数据过滤。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    filters<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        genderFilter(value) {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (value <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">||</span> value <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#34;男&#34;</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">return</span> <span style="color:#d14">&#34;男&#34;</span>;
</span></span><span style="display:flex;"><span>            } <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> (value <span style="color:#000;font-weight:bold">===</span> <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">||</span> value <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#34;女&#34;</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">return</span> <span style="color:#d14">&#34;女&#34;</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#d14">&#34;保密&#34;</span>;
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>最后，在列表中渲染时使用过滤器：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">el-table-column</span> <span style="color:#008080">label</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;性别&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">template</span> <span style="color:#008080">slot-scope</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;scope&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">el-tag</span>&gt;{{scope.row.gender | genderFilter}}&lt;/<span style="color:#000080">el-tag</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">el-table-column</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="动态路由">动态路由</h1>
<p>动态路由，指的就是路由的路径中，有一部分内容是动态发生变化的，这种路由我们就称为“动态路由”。</p>
<p>例如，我们要通过动态路由进入到“修改学生”的页面：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/home/studentsUpdate/001
</span></span><span style="display:flex;"><span>/home/studentsUpdate/002
</span></span><span style="display:flex;"><span>/home/studentsUpdate/003
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中，<code>001</code> 等数字就是当前路径中动态的部分。</p>
<h2 id="一配置动态路由">一、配置动态路由</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,  <span style="color:#998;font-style:italic">// 路由名称，可选
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>        children<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsUpdate/:id&#39;</span>,
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsUpdate&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsUpdate
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中，<code>id</code> 可以是任意变量名。</p>
<h2 id="二跳转动态路由">二、跳转动态路由</h2>
<p>默认情况下，动态路由在跳转时，必须在跳转路径中设置动态部分。</p>
<p>例如跳转到学生修改页面：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        handleEdit(row) {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.$router.push(<span style="color:#d14">`/home/studentsUpdate/</span><span style="color:#d14">${</span>row._id<span style="color:#d14">}</span><span style="color:#d14">`</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果我们希望，在跳转时，动态部分可有可无，那么我们在配置动态路由时，可以添加一个 <code>?</code>：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,  <span style="color:#998;font-style:italic">// 路由名称，可选
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>        children<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsUpdate/:id?&#39;</span>,
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsUpdate&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsUpdate
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三获取动态路由的参数">三、获取动态路由的参数</h2>
<p>Vue Router 中提供了两种获取动态路由参数的方式。</p>
<h3 id="1通过-route-获取">1、通过 $route 获取</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    created() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#000;font-weight:bold">this</span>.$route.params)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2通过-props-获取">2、通过 props 获取</h3>
<p>如果我们想要在组件中通过 props 来获取动态路由的参数，需要先在路由配置中添加以下属性：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,  <span style="color:#998;font-style:italic">// 路由名称，可选
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>        children<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsUpdate/:id&#39;</span>,
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsUpdate&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsUpdate,
</span></span><span style="display:flex;"><span>                props<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>配置成功后，就可以直接在组件的 props 中获取动态路由的参数了：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    props<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#34;id&#34;</span>],
</span></span><span style="display:flex;"><span>    created() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#000;font-weight:bold">this</span>.id);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="模块化">模块化</h1>
<p>我们可以通过 modules 这个属性，对仓库进行模块化拆分，可以将一个 store，拆分成多个模块。</p>
<h2 id="一仓库配置模块化">一、仓库配置模块化</h2>
<h3 id="1创建模块文件">1、创建模块文件</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>store
</span></span><span style="display:flex;"><span>  |--- modules
</span></span><span style="display:flex;"><span>  |       |--- students.js
</span></span><span style="display:flex;"><span>  |       |--- classes.js
</span></span><span style="display:flex;"><span>  |       |--- subjects.js
</span></span><span style="display:flex;"><span>  |       |--- ...
</span></span><span style="display:flex;"><span>  |--- index.js         <span style="color:#998;font-style:italic"># 主仓库的配置文件</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2配置模块">2、配置模块</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 解决命名空间冲突
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    namespaced<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>,
</span></span><span style="display:flex;"><span>    state<span style="color:#000;font-weight:bold">:</span> {},
</span></span><span style="display:flex;"><span>    getters<span style="color:#000;font-weight:bold">:</span> {},
</span></span><span style="display:flex;"><span>    mutations<span style="color:#000;font-weight:bold">:</span> {},
</span></span><span style="display:flex;"><span>    actions<span style="color:#000;font-weight:bold">:</span> {}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>每一个模块都需要设置一个 <code>namespaced: true</code> 的属性，如果不设置这个属性，那么所有模块文件中的代码，最终还是会编译成主仓库的内容。</p>
<p>剩下的五大核心属性，和主仓库中的用法一模一样。</p>
<p>案例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 解决命名空间冲突
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    namespaced<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>,
</span></span><span style="display:flex;"><span>    state<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        subjects<span style="color:#000;font-weight:bold">:</span> [],  <span style="color:#998;font-style:italic">// 专业数据的初始值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    },
</span></span><span style="display:flex;"><span>    mutations<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        SET_SUBJECTS(state, payload) {
</span></span><span style="display:flex;"><span>            state.subjects <span style="color:#000;font-weight:bold">=</span> payload.rows;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    actions<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">async</span> getSubjectsAsync(context) {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">const</span> res <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">await</span> api.subjects.get();
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (res.code) {
</span></span><span style="display:flex;"><span>                context.commit(<span style="color:#d14">&#39;SET_SUBJECTS&#39;</span>, res.data);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3主仓库引入模块">3、主仓库引入模块</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> subjects from <span style="color:#d14">&#39;./modules/subjects&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> <span style="color:#000;font-weight:bold">new</span> Vuex.Store({
</span></span><span style="display:flex;"><span>    modules<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        subjects
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二组件中使用模块">二、组件中使用模块</h2>
<p>组件中要使用模块中的数据或方法，也有两种方式：</p>
<ol>
<li>原生方式（不用辅助函数）</li>
<li>辅助函数</li>
</ol>
<h3 id="1原生方式不用辅助函数">1、原生方式（不用辅助函数）</h3>
<p>在组件中用原生的方式获取<strong>仓库模块</strong>中的 state 和 getters 时：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        计算属性名() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.$store.state.模块名.state数据名
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        计算属性名() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.$store.getters[<span style="color:#d14">&#39;模块名/getters数据名&#39;</span>]
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>在组件中用原生的方式调用<strong>仓库模块</strong>中的 mutations 和 actions 方法：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        方法名() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.$store.commit(<span style="color:#d14">&#39;模块名/mutations方法名&#39;</span>)
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        方法名() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.$store.dispatch(<span style="color:#d14">&#39;模块名/actions方法名&#39;</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2辅助函数">2、辅助函数</h3>
<p>如果在组件中需要通过辅助函数的形式来获取模块中的数据和方法。</p>
<p>在引入辅助函数时，需要用模块化的方式来引入：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> { createNamespacedHelpers } from <span style="color:#d14">&#34;vuex&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> { mapState, mapGetters, mapMutations, mapActions } <span style="color:#000;font-weight:bold">=</span> createNamespacedHelpers(<span style="color:#d14">&#34;模块名&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>拿到辅助后，后续的用法就和之前辅助函数的用法一样了。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        ...mapState([<span style="color:#d14">&#39;state中的数据名&#39;</span>, <span style="color:#d14">&#39;state中的数据名&#39;</span>]),
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 例如：...mapState([&#39;userInfo&#39;, &#39;subjects&#39;]),
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        ...mapGetters([<span style="color:#d14">&#39;getters中的数据名&#39;</span>])
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 例如：...mapGetters([&#39;username&#39;]),
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        ...mapMutations([<span style="color:#d14">&#39;mutations中的方法名&#39;</span>, <span style="color:#d14">&#39;mutations中的方法名&#39;</span>]),
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 例如：...mapMutations([&#39;SET_SUBJECTS&#39;]),
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        ...mapActions([<span style="color:#d14">&#39;actions中的方法名&#39;</span>])
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 例如：...mapActions([&#39;getSubjectsAsync&#39;]),
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3组件中使用多个仓库模块">3、组件中使用多个仓库模块</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> { createNamespacedHelpers } from <span style="color:#d14">&#34;vuex&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> { mapState, mapGetters, mapMutations, mapActions } <span style="color:#000;font-weight:bold">=</span> createNamespacedHelpers(<span style="color:#d14">&#34;subejctsModule&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> { 
</span></span><span style="display:flex;"><span>    mapState<span style="color:#000;font-weight:bold">:</span> classesState, 
</span></span><span style="display:flex;"><span>    mapGetters<span style="color:#000;font-weight:bold">:</span> classesGetters, 
</span></span><span style="display:flex;"><span>    mapMutations<span style="color:#000;font-weight:bold">:</span> classesMutations, 
</span></span><span style="display:flex;"><span>    mapActions<span style="color:#000;font-weight:bold">:</span> classesActions
</span></span><span style="display:flex;"><span>} <span style="color:#000;font-weight:bold">=</span> createNamespacedHelpers(<span style="color:#d14">&#34;classesModule&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="指令">指令</h1>
<p>Vue 中，给标签身上提供了一系列的以 <code>v-</code> 开头的特殊属性，称为“指令”。</p>
<h2 id="一v-show">一、v-show</h2>
<p>v-show 指令可以通过布尔值来控制元素的显示或隐藏：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">h1</span> <span style="color:#008080">v-show</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;false&#34;</span>&gt;Hello&lt;/<span style="color:#000080">h1</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>v-show 的值，可以是一个固定的布尔值，也可以是 data 中的一个动态数据：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h1</span> <span style="color:#008080">v-show</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;isShow&#34;</span>&gt;Hello&lt;/<span style="color:#000080">h1</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        data() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                isShow<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果 v-show 的值不是一个布尔值，会自动隐式转换为布尔值后进行判断。</p>
<h2 id="二v-bind">二、v-bind</h2>
<p>v-bind 用来实现属性的动态绑定。</p>
<h3 id="基本用法">基本用法</h3>
<p>当我们希望 HTML 标签身上的某些属性的值，是一个动态的数据时，就可以用 v-bind 来处理该属性：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">a</span> <span style="color:#008080">href</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;https://www.woniuxy.com&#34;</span>&gt;蜗牛学苑&lt;/<span style="color:#000080">a</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">a</span> <span style="color:#008080">v-bind:href</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;link&#34;</span>&gt;蜗牛学苑&lt;/<span style="color:#000080">a</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        data() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                link<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;https://www.woniuxy.com&#39;</span>
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="动态渲染图片">动态渲染图片</h3>
<p>如果需要通过 v-bind 来动态渲染图片，需要分两种情况考虑：</p>
<ol>
<li>动态渲染网络图片</li>
<li>动态渲染本地图片</li>
</ol>
<h4 id="1动态渲染网络图片">1、动态渲染网络图片</h4>
<p>示例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">img</span> <span style="color:#008080">v-bind:src</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;imgPath&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        data() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                imgPath<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png&#39;</span>
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2动态渲染本地图片">2、动态渲染本地图片</h4>
<p>因为 Vue 项目中，是通过 webpack 来进行代码的编译，因此，本地图片也会被 webpack 进行打包处理。所以，我们在动态渲染本地图片时，需要使用以下两种方式：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">img</span> <span style="color:#008080">v</span><span style="color:#000080">-bind:src</span><span style="color:#d14">=&#34;imgPath1&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">img</span> <span style="color:#008080">v</span><span style="color:#000080">-bind:src</span><span style="color:#d14">=&#34;require(`../../assets/${imgPath2}`)&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        data() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                imgPath1<span style="color:#000;font-weight:bold">:</span> require(<span style="color:#d14">&#39;../../assets/logo.png&#39;</span>),
</span></span><span style="display:flex;"><span>                imgPath2<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;logo.png&#39;</span>
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="keep-alive">keep-alive</h1>
<h2 id="一基础语法-2">一、基础语法</h2>
<p>Vue 中提供了一组标签 <code>&lt;keep-alive&gt;</code>，所有被 <code>&lt;keep-alive&gt;</code> 包裹的组件，都会被缓存，可以让组件在切换时不被销毁。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">keep-alive</span>&gt;
</span></span><span style="display:flex;"><span> <span style="color:#998;font-style:italic">&lt;!-- 其他组件 --&gt;</span>
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">keep-alive</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>示例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">keep-alive</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">component</span> <span style="color:#008080">:is</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;currentTab&#34;</span>&gt;&lt;/<span style="color:#000080">component</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">keep-alive</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二生命周期函数-1">二、生命周期函数</h2>
<p>所有被 <code>&lt;keep-alive&gt;</code> 包裹的组件，除了首次显示时，会执行创建和挂载的生命周期函数，后续我们再在这些组件之间进行切换时，都不会再反复触发原本的生命周期函数了。</p>
<p>但是，所有被 <code>&lt;keep-alive&gt;</code> 包裹的组件会额外的新增两个生命周期函数：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    activated() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#d14">&#39;进入组件时&#39;</span>);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    deactivated() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#d14">&#39;离开组件时&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三筛选组件">三、筛选组件</h2>
<p><code>&lt;keep-alive&gt;</code> 身上还提供了两个属性，用来对缓存的组件进行筛选：</p>
<ul>
<li><code>include</code>：值是字符串或正则，用来设置需要缓存的组件名称；</li>
<li><code>exclude</code>：值是字符串或正则，设置不需要缓存的组件名称；</li>
</ul>
<p>示例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">keep-alive</span> <span style="color:#008080">exclude</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;TabA&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">component</span> <span style="color:#008080">:is</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;currentTab&#34;</span>&gt;&lt;/<span style="color:#000080">component</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">keep-alive</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">keep-alive</span> <span style="color:#008080">:include</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;/(TabA)|(TabB)/&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">component</span> <span style="color:#008080">:is</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;currentTab&#34;</span>&gt;&lt;/<span style="color:#000080">component</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">keep-alive</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="混入">混入</h1>
<p>Vue 中的混入，就是用来提取多个组件中公共的 JS 代码。</p>
<h2 id="一创建混入对象">一、创建混入对象</h2>
<p>我们在 src 中创建一个 <code>mixins</code> 目录，在该目录中来创建混入对象：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> pageMixin <span style="color:#000;font-weight:bold">=</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            pageData<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                currentPage<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span>,
</span></span><span style="display:flex;"><span>                pageSize<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">5</span>,
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        handlePageData(pageData) {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.pageData <span style="color:#000;font-weight:bold">=</span> pageData;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> pageMixin;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二引入混入对象">二、引入混入对象</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> pageMixin from <span style="color:#d14">&#34;@/mixins/pageMixin.js&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    mixins<span style="color:#000;font-weight:bold">:</span> [pageMixin]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>组件中引入的混入对象，会和组件自己的属性方法等做合并。</p>
<h1 id="query-路由传参">query 路由传参</h1>
<p>Vue Router 中除了用动态路由传参外，路由也提供了专门的传参方法。</p>
<h2 id="一传递参数">一、传递参数</h2>
<p>例如，我们要跳转“修改学生”的页面，并将学生 id 传递过去：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">router-link</span> <span style="color:#008080">to</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;/home/studentsUpdate?id=001&#34;</span>&gt;修改&lt;/<span style="color:#000080">router-link</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">this</span>.$router.push(<span style="color:#d14">&#39;/home/studentsUpdate?id=001&#39;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>除了用 <code>?</code> 将路径和参数分割开以外，还可以有 query 属性：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">router-link</span> <span style="color:#008080">:to</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{ path: &#39;/home/studentsUpdate?id=001&#39;, query: { id: &#39;001&#39;}}&#34;</span>&gt;修改&lt;/<span style="color:#000080">router-link</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">this</span>.$router.push({
</span></span><span style="display:flex;"><span>    path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home/studentsUpdate&#39;</span>,
</span></span><span style="display:flex;"><span>    query<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        id<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;001&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 其他参数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></td></tr></table>
</div>
</div><p>以上两种语法，最终运行的效果是一样的。</p>
<h2 id="二路由配置">二、路由配置</h2>
<p><strong><code>query</code> 的传参方式，路由不需要做额外配置。</strong></p>
<p>注意：<code>query</code> 的传参方式，路由是一个普通路由，在路由配置时不需要设置成动态路由。</p>
<h2 id="三接收参数">三、接收参数</h2>
<p>在组件中，如果要接收通过 <code>query</code> 传递的参数，接收时通过以下方式：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>console.log(<span style="color:#000;font-weight:bold">this</span>.$route.query);
</span></span></code></pre></td></tr></table>
</div>
</div><p>通常，我们需要用路由传递多个参数时，可以选择使用 query 的传参方式。</p>
<h1 id="事件处理">事件处理</h1>
<h2 id="一绑定事件">一、绑定事件</h2>
<p>Vue 中提供了一个 <code>v-on</code> 的指令来绑定事件：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h1</span>&gt;{{ num }}&lt;/<span style="color:#000080">h1</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#008080">v-on:click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;num++&#34;</span>&gt;+1&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        data() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                num<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span>,
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二事件方法">二、事件方法</h2>
<p>每一个组件中，都有一个 <code>methods</code> 属性，用来设置组件的方法。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">button</span> <span style="color:#008080">v-on:click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;decrement&#34;</span>&gt;-1&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        data() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                num<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            decrement() {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">this</span>.num<span style="color:#000;font-weight:bold">--</span>;
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            setNumber() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>说明：在方法中访问 data 中的数据需要通过 <code>this</code> 进行访问。</p>
<h2 id="三事件传参">三、事件传参</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#008080">v-on:click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;setNumber(10)&#34;</span>&gt;赋值 10&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#008080">v-on:click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;setNumber(20)&#34;</span>&gt;赋值 20&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        data() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                num<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            setNumber(newValue) {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">this</span>.num <span style="color:#000;font-weight:bold">=</span> newValue;
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="四修饰符">四、修饰符</h2>
<h3 id="1事件修饰符">1、事件修饰符</h3>
<ul>
<li><code>.prevent</code>：阻止事件的默认行为，等同于原生 JS 中的 <code>event.preventDefault()</code>；</li>
<li><code>.stop</code>：阻止事件的传播，等同于原生 JS 中的 <code>event.stopPropagation()</code>；</li>
</ul>
<p>示例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">a</span> <span style="color:#008080">href</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;#&#34;</span> <span style="color:#008080">v-on:click</span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#008080">prevent</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;toLink&#34;</span>&gt;链接&lt;/<span style="color:#000080">a</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">a</span> <span style="color:#008080">href</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;#&#34;</span> <span style="color:#008080">v-on:click</span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#008080">prevent</span>&gt;链接&lt;/<span style="color:#000080">a</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">a</span> <span style="color:#008080">href</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;#&#34;</span> <span style="color:#008080">v-on:click</span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#008080">prevent</span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#008080">stop</span>&gt;链接&lt;/<span style="color:#000080">a</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2按键修饰符">2、按键修饰符</h3>
<ul>
<li><code>.enter</code>：当按下回车键时触发对应的事件；</li>
</ul>
<p>示例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">input</span> <span style="color:#008080">v-on:keyup</span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#008080">enter</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;inputEvent&#34;</span> /&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3系统修饰键">3、系统修饰键</h3>
<ul>
<li><code>.ctrl</code></li>
<li><code>.shift</code></li>
<li><code>.alt</code></li>
</ul>
<p>示例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">a</span> <span style="color:#008080">href</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;https://www.woniuxy.com&#34;</span> <span style="color:#008080">v-on:click</span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#008080">ctrl</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;doSomething&#34;</span>&gt;跳转&lt;/<span style="color:#000080">a</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="插槽">插槽</h1>
<h2 id="一基础语法-3">一、基础语法</h2>
<p>Vue 提供了一个 <code>&lt;slot&gt;</code> 标签，叫做“插槽”。</p>
<p>我们可以在 <code>&lt;template&gt;</code> 中使用插槽来作为“占位符”，后续组件外部可以传递数据、组件、标签等内容到插槽所在的位置。</p>
<h3 id="1定义插槽">1、定义插槽</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h3</span>&gt;子组件&lt;/<span style="color:#000080">h3</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">slot</span>&gt;&lt;/<span style="color:#000080">slot</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2给插槽传递内容">2、给插槽传递内容</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">SlotChild</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">p</span>&gt;这是父组件传递给子组件插槽的内容&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">p</span>&gt;这是父组件传递给子组件插槽的内容&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">SlotChild</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二具名插槽命名插槽">二、具名插槽（命名插槽）</h2>
<h3 id="1插槽命名">1、插槽命名</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h3</span>&gt;子组件&lt;/<span style="color:#000080">h3</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">slot</span> <span style="color:#008080">name</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;before&#34;</span>&gt;&lt;/<span style="color:#000080">slot</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">hr</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">slot</span> <span style="color:#008080">name</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;after&#34;</span>&gt;&lt;/<span style="color:#000080">slot</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2给指定插槽传递内容">2、给指定插槽传递内容</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">SlotChild</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">template</span> <span style="color:#008080">v-slot:before</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">p</span>&gt;这是父组件传递给子组件第一个插槽的内容&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">template</span> <span style="color:#a61717;background-color:#e3d2d2">#</span><span style="color:#008080">after</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">p</span>&gt;这是父组件传递给子组件第二个插槽的内容&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">SlotChild</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：<code>v-slot</code> 只能在 <code>&lt;template&gt;</code> 或组件身上使用。</p>
<p><code>v-slot:</code> 可以简写为 <code>#</code>。</p>
<h2 id="三后备内容插槽的默认值">三、后备内容（插槽的默认值）</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h3</span>&gt;子组件&lt;/<span style="color:#000080">h3</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">slot</span> <span style="color:#008080">name</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;before&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#000080">p</span>&gt;这是插槽的默认内容&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#000080">slot</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">hr</span> /&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">slot</span> <span style="color:#008080">name</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;after&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#000080">p</span>&gt;这是插槽的默认内容&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#000080">slot</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">hr</span> /&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">slot</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#000080">p</span>&gt;这是插槽的默认内容&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#000080">slot</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="四作用域插槽">四、作用域插槽</h2>
<p>当数据在子组件中，但是渲染数据的节点是父组件来提供的，这种情况下，我们就需要使用作用域插槽。</p>
<h3 id="1子组件通过插槽传值">1、子组件通过插槽传值</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h3</span>&gt;子组件&lt;/<span style="color:#000080">h3</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">slot</span> <span style="color:#008080">:students</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;students&#34;</span>&gt;&lt;/<span style="color:#000080">slot</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            students<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>                { id<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span>, name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;张三&#34;</span> },
</span></span><span style="display:flex;"><span>                { id<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">2</span>, name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;李四&#34;</span> },
</span></span><span style="display:flex;"><span>                { id<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">3</span>, name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;王五&#34;</span> },
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2父组件通过-v-slot-接收值">2、父组件通过 v-slot 接收值</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">SlotChild</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#000080">template</span> <span style="color:#008080">v-slot</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{ students }&#34;</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#000080">ul</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#000080">li</span> <span style="color:#008080">v-for</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;item in students&#34;</span> <span style="color:#008080">:key</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;item.id&#34;</span>&gt;
</span></span><span style="display:flex;"><span>                        {{ item.name }}
</span></span><span style="display:flex;"><span>                    &lt;/<span style="color:#000080">li</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;/<span style="color:#000080">ul</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#000080">SlotChild</span>&gt;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">SlotChild</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#000080">template</span> <span style="color:#008080">v-slot</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{ students }&#34;</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#000080">ol</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#000080">li</span> <span style="color:#008080">v-for</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;item in students&#34;</span> <span style="color:#008080">:key</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;item.id&#34;</span>&gt;
</span></span><span style="display:flex;"><span>                        {{ item.name }}
</span></span><span style="display:flex;"><span>                    &lt;/<span style="color:#000080">li</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;/<span style="color:#000080">ol</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#000080">SlotChild</span>&gt;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="可视化图表">可视化图表</h1>
<h2 id="一下载-1">一、下载</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install echarts --save
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二使用-2">二、使用</h2>
<h3 id="1引入-2">1、引入</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#000;font-weight:bold">*</span> as echarts from <span style="color:#d14">&#34;echarts&#34;</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2初始化">2、初始化</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">var</span> myChart;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    mounted() {
</span></span><span style="display:flex;"><span>        myChart <span style="color:#000;font-weight:bold">=</span> echarts.init(<span style="color:#0086b3">document</span>.getElementById(<span style="color:#d14">&#34;chart-one&#34;</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3处理渲染数据">3、处理渲染数据</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> { createNamespacedHelpers } from <span style="color:#d14">&#34;vuex&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> { mapActions, mapState } <span style="color:#000;font-weight:bold">=</span> createNamespacedHelpers(<span style="color:#d14">&#34;classesModule&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    created() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.getClassesAsync();
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        ...mapState([<span style="color:#d14">&#34;classes&#34;</span>]),
</span></span><span style="display:flex;"><span>        chartOneData() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                title<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                    text<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;班级人数统计&#34;</span>,
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                tooltip<span style="color:#000;font-weight:bold">:</span> {},
</span></span><span style="display:flex;"><span>                xAxis<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                    data<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">this</span>.classes.map((item) =&gt; item.name),
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                yAxis<span style="color:#000;font-weight:bold">:</span> {},
</span></span><span style="display:flex;"><span>                series<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;销量&#34;</span>,
</span></span><span style="display:flex;"><span>                        type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;bar&#34;</span>,
</span></span><span style="display:flex;"><span>                        data<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">this</span>.classes.map((item) =&gt; item.students.length),
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        ...mapActions([<span style="color:#d14">&#34;getClassesAsync&#34;</span>]),
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="4渲染">4、渲染</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    watch<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        classes() {
</span></span><span style="display:flex;"><span>            myChart.setOption(<span style="color:#000;font-weight:bold">this</span>.chartOneData);
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="路由元信息">路由元信息</h1>
<h2 id="一基础语法-4">一、基础语法</h2>
<h3 id="1设置路由元信息">1、设置路由元信息</h3>
<p>在配置路由时，每一个路由对象，除了必填的 <code>path</code> 和 <code>component</code> 属性外，Vue Router 还给它们提供了一个属性 <code>meta</code>，用来设置路由元信息。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// ...,
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        children<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsList&#39;</span>, 
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsList&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsList,
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">// 路由元信息
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                meta<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>除了路由提供了基本属性外，如果我们还想要给路由对象身上添加一个额外的信息，就可以在 <code>meta</code> 对象中设置。</p>
<h3 id="2获取路由元信息">2、获取路由元信息</h3>
<p>在组件中，通过 <code>this.$route</code> 可以获取到当前页面的路由信息对象。在该对象身上，就有一个 <code>meta</code> 属性，可以获取到当前路由的元信息数据。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    created() {
</span></span><span style="display:flex;"><span>        console.log(<span style="color:#000;font-weight:bold">this</span>.$route.meta);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二应用场景">二、应用场景</h2>
<h3 id="1面包屑">1、面包屑</h3>
<p>我们可以通过路由元信息来实现面包屑组件的渲染。</p>
<h4 id="1设置路由元信息-1">1）设置路由元信息</h4>
<p>将面包屑需要用到的标题，都设置在路由元信息中：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        children<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsList&#39;</span>,  
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsList&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsList,
</span></span><span style="display:flex;"><span>                meta<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                    title<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#39;学生管理&#39;</span>, <span style="color:#d14">&#39;学生列表&#39;</span>]
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsAdd&#39;</span>,
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsAdd&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsAdd,
</span></span><span style="display:flex;"><span>                meta<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                    title<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#39;学生管理&#39;</span>, <span style="color:#d14">&#39;新增学生&#39;</span>]
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsUpdate/:id?&#39;</span>,
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsUpdate&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsUpdate,
</span></span><span style="display:flex;"><span>                props<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>,
</span></span><span style="display:flex;"><span>                meta<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                    title<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#39;学生管理&#39;</span>, <span style="color:#d14">&#39;修改学生&#39;</span>]
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2渲染路由元信息">2）渲染路由元信息</h4>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">el-breadcrumb</span> <span style="color:#008080">separator</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;/&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">el-breadcrumb-item</span> <span style="color:#008080">:to</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{ path: &#39;/home&#39; }&#34;</span>&gt; 首页 &lt;/<span style="color:#000080">el-breadcrumb-item</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">el-breadcrumb-item</span> <span style="color:#008080">v-for</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;(item, index) in title&#34;</span> <span style="color:#008080">:key</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;index&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            {{ item }}
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#000080">el-breadcrumb-item</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">el-breadcrumb</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        title() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.$route.meta.title;
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2区分组件缓存">2、区分组件缓存</h3>
<h4 id="1设置路由元信息-2">1）设置路由元信息</h4>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        children<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsList&#39;</span>,  
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsList&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsList
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsAdd&#39;</span>,
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsAdd&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsAdd,
</span></span><span style="display:flex;"><span>                meta<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                    isKeepAlive<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsUpdate/:id?&#39;</span>,
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsUpdate&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsUpdate,
</span></span><span style="display:flex;"><span>                props<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2按条件渲染组件">2）按条件渲染组件</h4>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">keep-alive</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">router-view</span> <span style="color:#008080">v-if</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;$route.meta.isKeepAlive&#34;</span>&gt;&lt;/<span style="color:#000080">router-view</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">keep-alive</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">router-view</span> <span style="color:#008080">v-if</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;!$route.meta.isKeepAlive&#34;</span>&gt;&lt;/<span style="color:#000080">router-view</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="列表渲染">列表渲染</h1>
<h2 id="一基础语法-5">一、基础语法</h2>
<p>Vue 中提供了 <code>v-for</code> 的指令用来循环产生节点。</p>
<p>基础语法如下：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;标签名 v-for<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;item in 数组&#34;</span> v-bind:key<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;值&#34;</span>&gt;&lt;/标签名&gt;
</span></span><span style="display:flex;"><span>&lt;标签名 v-for<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;(item, index) in 数组&#34;</span> v-bind:key<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;值&#34;</span>&gt;&lt;/标签名&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>说明：</p>
<ol>
<li><code>item</code> 是任意变量名，在每一次循环中用来接收数组中的每一项；</li>
<li><code>index</code> 用来接收每一次循环元素的下标，不需要时可以省略不写。</li>
<li><code>key</code> 是每一个循环产生的元素身上必须的一个属性，属性值要求是<strong>数字或字符串</strong>，且在当前循环中是<strong>唯一、固定不变</strong>的；</li>
</ol>
<h2 id="二key">二、key</h2>
<p>所有通过 <code>v-for</code> 循环产生的元素身上，都需要动态（<code>v-bind</code>）添加一个 key 属性。</p>
<ol>
<li>key 属性的值只能是<strong>数字或字符串</strong>；</li>
<li>key 属性的值在当前 v-for 的循环中必须是<strong>唯一</strong>的；</li>
<li>key 属性的值是<strong>固定不变</strong>的，因此不建议使用 index 作为 key 的值；</li>
<li>key 属性必须设置在真实节点上；</li>
</ol>
<h2 id="三template">三、template</h2>
<p>Vue 中提供了一组标签 <code>&lt;template&gt;</code>，该标签是一个空（虚拟）标签，浏览器解析完成后，不会在页面中渲染该标签。</p>
<p><code>&lt;template&gt;</code> 可以搭配 <code>v-for</code> 指令使用：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">template</span> <span style="color:#008080">v-for</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;(item, index) in exercises&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#000080">p</span> <span style="color:#008080">v-bind:key</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;item._id&#34;</span>&gt;{{ index + 1 }}. {{ item.topic }}&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#000080">textarea</span> <span style="color:#008080">v-bind:key</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;item._id + &#39;a&#39;&#34;</span>&gt;&lt;/<span style="color:#000080">textarea</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            exercises<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>                { _id<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;001&#34;</span>, topic<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;为什么组件的 data 必须是函数？&#34;</span> },
</span></span><span style="display:flex;"><span>                { _id<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;002&#34;</span>, topic<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;什么是响应式系统？&#34;</span> },
</span></span><span style="display:flex;"><span>                { _id<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;003&#34;</span>, topic<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;v-show 的作用是什么？&#34;</span> },
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：在 Vue2 中，<code>v-bind:key</code> 属性不能设置在 <code>&lt;template&gt;</code> 身上，只能在循环内部的真实节点身上设置 key 属性。但是，在真实节点身上设置 key 时，要注意，key 值不能重复。</p>
<h2 id="四其他数据类型">四、其他数据类型</h2>
<p>v-for 除了可以遍历<strong>数组</strong>以外，还可以遍历<strong>对象、数字、字符串</strong>。</p>
<h3 id="1遍历对象">1、遍历对象</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">ul</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">li</span> <span style="color:#008080">v-for</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;(value, key, index) in student&#34;</span> <span style="color:#008080">v-bind:key</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;key&#34;</span>&gt;&lt;/<span style="color:#000080">li</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">ul</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            student<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;张三&#39;</span>,
</span></span><span style="display:flex;"><span>                age<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">20</span>,
</span></span><span style="display:flex;"><span>                gender<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;男&#39;</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>说明：</p>
<ul>
<li>value：获取到对象的值；</li>
<li>key：获取到对象的键；</li>
<li>index：获取到对象的下标，从 0 开始递增；</li>
</ul>
<h3 id="2遍历字符串">2、遍历字符串</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">ul</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">li</span> <span style="color:#008080">v-for</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;(item, index) in msg&#34;</span> <span style="color:#008080">v-bind:key</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;index&#34;</span>&gt;&lt;/<span style="color:#000080">li</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">ul</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            msg<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;hello&#39;</span>
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>说明：</p>
<ul>
<li>item：获取到字符串中的每一个字符；</li>
<li>index：获取到每一个字符的下标，从 0 开始递增；</li>
</ul>
<h3 id="3遍历数字">3、遍历数字</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">ul</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">li</span> <span style="color:#008080">v-for</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;(item, index) in 3&#34;</span> <span style="color:#008080">v-bind:key</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;item&#34;</span>&gt;&lt;/<span style="color:#000080">li</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">ul</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>说明：</p>
<ul>
<li>item：从 1 开始递增，到遍历的数字结束；</li>
<li>index：下标，从 0 开始递增；</li>
</ul>
<h1 id="响应式原理">响应式原理</h1>
<p>在 Vue 实例或组件中，data 中的数据都会加入到 Vue 的响应式系统。</p>
<p>每当 data 中的数据发生改变时，Vue 的响应式系统会检测到数据的变化，然后自动更新对应的页面节点。</p>
<h2 id="一核心概念">一、核心概念</h2>
<p>响应式原理的核心：</p>
<ol>
<li><strong>数据劫持</strong>：把 data 对象中的普通数据变成“响应式数据”；</li>
<li><strong>发布订阅者模式（观察者模式）</strong>：</li>
</ol>
<h2 id="二数据劫持">二、数据劫持</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">class</span> Vue {
</span></span><span style="display:flex;"><span>    constructor(option) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.$el <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">document</span>.querySelector(option.el);
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.$data <span style="color:#000;font-weight:bold">=</span> option.data();
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">new</span> Observer(<span style="color:#000;font-weight:bold">this</span>.$data);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">class</span> Observer {
</span></span><span style="display:flex;"><span>    constructor(data) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.$data <span style="color:#000;font-weight:bold">=</span> data;
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.walk();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    walk() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#000;font-weight:bold">let</span> key <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">this</span>.$data) {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.defineReactive(<span style="color:#000;font-weight:bold">this</span>.$data, key);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    defineReactive(data, key, value <span style="color:#000;font-weight:bold">=</span> data[key]) {
</span></span><span style="display:flex;"><span>        <span style="color:#0086b3">Object</span>.defineProperty(data, key, {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 当我们访问 data.name 属性时，会自动触发 get 方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            get() {
</span></span><span style="display:flex;"><span>                console.log(<span style="color:#d14">&#39;有人在访问我的数据了&#39;</span>, key);
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">return</span> value;
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            set(newValue) {
</span></span><span style="display:flex;"><span>                console.log(<span style="color:#d14">&#39;有人在修改我的数据了&#39;</span>, key);
</span></span><span style="display:flex;"><span>                value <span style="color:#000;font-weight:bold">=</span> newValue;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="处理-this-的数据">处理 this 的数据</h3>
<p>前面我们把 this.$data 对象中的数据都进行了数据劫持，但是在 Vue 中源码中，this 身上也有和 this.$data 中相同的一份数据，所以，我们还要在 this 身上添加一份相同的数据：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">class</span> Vue {
</span></span><span style="display:flex;"><span>    constructor(option) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.$el <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">document</span>.querySelector(option.el);
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.$data <span style="color:#000;font-weight:bold">=</span> option.data();
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.proxy();  <span style="color:#998;font-style:italic">// 调用
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">new</span> Observer(<span style="color:#000;font-weight:bold">this</span>.$data);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 将 this.$data 身上所有的属性，添加一份到 this 身上
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    proxy() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#000;font-weight:bold">let</span> key <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">this</span>.$data) {
</span></span><span style="display:flex;"><span>            <span style="color:#0086b3">Object</span>.defineProperty(<span style="color:#000;font-weight:bold">this</span>, key, {
</span></span><span style="display:flex;"><span>                get() {
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.$data[key];
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                set(newValue) {
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">this</span>.$data[key] <span style="color:#000;font-weight:bold">=</span> newValue;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            });
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三数据渲染">三、数据渲染</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">class</span> Vue {
</span></span><span style="display:flex;"><span>    constructor(option) {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">new</span> Compiler(<span style="color:#000;font-weight:bold">this</span>.$el, <span style="color:#000;font-weight:bold">this</span>.$data);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 负责将数据渲染到页面
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">class</span> Compiler {
</span></span><span style="display:flex;"><span>    constructor(el, data) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.$el <span style="color:#000;font-weight:bold">=</span> el;
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.$data <span style="color:#000;font-weight:bold">=</span> data;
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.compile();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    compile() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">const</span> node <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">this</span>.$el.firstElementChild;
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">const</span> key <span style="color:#000;font-weight:bold">=</span> node.innerText.slice(<span style="color:#099">2</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span>);
</span></span><span style="display:flex;"><span>        node.innerText <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">this</span>.$data[key];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="四发布订阅者模式">四、发布订阅者模式</h2>
<p>创建观察者和订阅者：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 观察者：每一条数据每被用一次，就产生一个对应的观察者
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">class</span> Watcher {
</span></span><span style="display:flex;"><span>    constructor(render) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.render <span style="color:#000;font-weight:bold">=</span> render;
</span></span><span style="display:flex;"><span>        <span style="color:#0086b3">window</span>.target <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.update();
</span></span><span style="display:flex;"><span>        <span style="color:#0086b3">window</span>.target <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 只要执行 update 方法，页面当前节点就会更新
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    update() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.render();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 订阅者：每一条数据对应着一个订阅者，用来管理该数据所有的观察者
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">class</span> Dep {
</span></span><span style="display:flex;"><span>    constructor() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.subs <span style="color:#000;font-weight:bold">=</span> [];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 将 watcher 添加到 dep 的数组中
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    addSubs(watcher) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.subs.push(watcher);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 通知当前负责的所有 watcher 更新节点
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    notify() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span>.subs.forEach((watcher) =&gt; {
</span></span><span style="display:flex;"><span>            watcher.update();
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>生成观察者</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">class</span> Compiler {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    compile() {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">const</span> render <span style="color:#000;font-weight:bold">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>            node.innerText <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">this</span>.$data[key];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">new</span> Watcher(render);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>生成订阅者以及数据发生改变时更新页面：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">class</span> Observer {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ....
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    defineReactive(data, key, value <span style="color:#000;font-weight:bold">=</span> data[key]) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">const</span> dep <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Dep();
</span></span><span style="display:flex;"><span>        <span style="color:#0086b3">Object</span>.defineProperty(data, key, {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 当我们访问 data.name 属性时，会自动触发 get 方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            get() {
</span></span><span style="display:flex;"><span>                console.log(<span style="color:#d14">&#39;有人在访问我的数据了&#39;</span>, key);
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">if</span> (<span style="color:#0086b3">window</span>.target) {
</span></span><span style="display:flex;"><span>                    dep.addSubs(<span style="color:#0086b3">window</span>.target);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">return</span> value;
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            set(newValue) {
</span></span><span style="display:flex;"><span>                console.log(<span style="color:#d14">&#39;有人在修改我的数据了&#39;</span>, key);
</span></span><span style="display:flex;"><span>                value <span style="color:#000;font-weight:bold">=</span> newValue;
</span></span><span style="display:flex;"><span>                dep.notify();   <span style="color:#998;font-style:italic">// 订阅者通知观察者更新节点
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="五总结">五、总结</h2>
<ol>
<li>通过 <code>Object.defineProperty()</code> 对 data 中的数据进行“数据劫持”；</li>
<li>每劫持一条 data 中的数据，就产生一个对应的订阅者（dep）；</li>
<li>每一条数据被一个节点使用时，产生一个对应的观察者（watcher）；</li>
<li>同一条数据下的观察者（watcher）都统一交给该数据的订阅者（dep）管理；</li>
<li>当数据发生改变时，该数据的订阅者（dep）会通知它负责的所有观察者（watcher）去更新节点；</li>
</ol>
<h1 id="导航守卫">导航守卫</h1>
<p>导航，指的是“路由正在发生改变”，实际上就是“路由正在跳转”。</p>
<p>而导航守卫，就是在路由跳转过程中，将路由拦截下来，然后经过一系列的操作后，由守卫来决定当前路由是否可以继续跳转。</p>
<h2 id="一分类">一、分类</h2>
<p>Vue Router 中大致将导航守卫分为三大类：</p>
<ol>
<li>全局守卫：作用于项目中所有路由；</li>
<li>路由独享守卫：只作用于指定路由；</li>
<li>组件内守卫：作用于与当前组件有关的路由；</li>
</ol>
<h2 id="二全局守卫">二、全局守卫</h2>
<p>全局守卫又可以分为以下三类：</p>
<ol>
<li>全局前置守卫：</li>
<li>全局解析守卫：</li>
<li>全局后置守卫：</li>
</ol>
<h3 id="1全局前置守卫">1、全局前置守卫</h3>
<p>全局前置守卫，指的是在进入任何一个路由之前，都会触发该守卫。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>router.beforeEach((to, from, next) =&gt; {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><p>例如，我们可以通过全局前置守卫来对用户的登录状态进行验证：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 设置全局前置守卫
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>router.beforeEach((to, from, next) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> (to.path.includes(<span style="color:#d14">&#39;home&#39;</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">const</span> token <span style="color:#000;font-weight:bold">=</span> localStorage.token;
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (token) {
</span></span><span style="display:flex;"><span>            next();
</span></span><span style="display:flex;"><span>        } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            alert(<span style="color:#d14">&#39;你还未登录，请先登录&#39;</span>);
</span></span><span style="display:flex;"><span>            next(<span style="color:#d14">&#39;/login&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        next();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三路由独享守卫">三、路由独享守卫</h2>
<p>路由独享守卫又可以分为以下三类：</p>
<ol>
<li>路由前置守卫：</li>
<li>路由解析守卫：</li>
<li>路由后置守卫：</li>
</ol>
<h3 id="1路由前置守卫">1、路由前置守卫</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,  
</span></span><span style="display:flex;"><span>        component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 路由独享前置守卫
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        beforeEnter<span style="color:#000;font-weight:bold">:</span> (to, from, next) =&gt; {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>案例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,  <span style="color:#998;font-style:italic">// 路由名称，可选
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 路由独享前置守卫
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        beforeEnter<span style="color:#000;font-weight:bold">:</span> (to, from, next) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">const</span> token <span style="color:#000;font-weight:bold">=</span> localStorage.token;
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (token) {
</span></span><span style="display:flex;"><span>                next();
</span></span><span style="display:flex;"><span>            } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                alert(<span style="color:#d14">&#39;你还未登录，请先登录&#39;</span>);
</span></span><span style="display:flex;"><span>                next(<span style="color:#d14">&#39;/login&#39;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        children<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="四组件内守卫">四、组件内守卫</h2>
<p>组件内守卫也可以分为以下三类：</p>
<ol>
<li>进入路由前：</li>
<li>路由发生改变：</li>
<li>离开路由前：</li>
</ol>
<h3 id="1离开路由前的守卫">1、离开路由前的守卫</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    beforeRouteLeave(to, from, next) { 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>案例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            isUpdate<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>        }  
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>       updateStudents() {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#998;font-style:italic">// 如果修改成功
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">this</span>.isUpdate <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>        }  
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 当离开组件前
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    beforeRouteLeave(to, from, next) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (<span style="color:#000;font-weight:bold">!</span><span style="color:#000;font-weight:bold">this</span>.isUpdate) {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 进入 if，说明当前的数据还未提交
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">this</span>.$confirm(<span style="color:#d14">&#34;你还有数据未提交，确认离开吗？&#34;</span>, <span style="color:#d14">&#34;提示&#34;</span>, {
</span></span><span style="display:flex;"><span>                confirmButtonText<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;确定&#34;</span>,
</span></span><span style="display:flex;"><span>                cancelButtonText<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;取消&#34;</span>,
</span></span><span style="display:flex;"><span>                type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;warning&#34;</span>,
</span></span><span style="display:flex;"><span>            }).then(() =&gt; {
</span></span><span style="display:flex;"><span>                next();
</span></span><span style="display:flex;"><span>            }).<span style="color:#000;font-weight:bold">catch</span>(() =&gt; {});
</span></span><span style="display:flex;"><span>        } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 进入 else，说明当前的数据已经提交
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            next();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="条件渲染">条件渲染</h1>
<p>Vue 中提供下列三个指令来实现条件渲染：</p>
<ul>
<li><code>v-if</code></li>
<li><code>v-else</code></li>
<li><code>v-else-if</code></li>
</ul>
<h2 id="一基础语法-6">一、基础语法</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">h2</span> <span style="color:#008080">v-if</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;true&#34;</span>&gt;这是一个h2&lt;/<span style="color:#000080">h2</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">h3</span> <span style="color:#008080">v-else-if</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;false&#34;</span>&gt;这是一个h3&lt;/<span style="color:#000080">h3</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">h4</span> <span style="color:#008080">v-else</span>&gt;这是一个h4&lt;/<span style="color:#000080">h4</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：</p>
<ol>
<li><code>v-else</code> 和 <code>v-else-if</code> 都必须搭配 <code>v-if</code> 一起使用，且必须是兄弟元素的关系；</li>
<li>当多个条件指令同时使用时，只要其中一个条件成立，后续的都不会再执行；</li>
</ol>
<h2 id="二template">二、template</h2>
<p>条件指令也可以搭配 <code>&lt;template&gt;</code> 使用：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span> <span style="color:#008080">v-if</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;false&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">h2</span>&gt;这是一个h2&lt;/<span style="color:#000080">h2</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">h3</span>&gt;这是一个h3&lt;/<span style="color:#000080">h3</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">h4</span>&gt;这是一个h4&lt;/<span style="color:#000080">h4</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三v-if-和-v-show-的区别">三、v-if 和 v-show 的区别</h2>
<p>v-if 和 v-show 都可以用来控制元素的显示和隐藏。区别在于：</p>
<ol>
<li>v-if 是通过控制元素节点<strong>是否渲染</strong>，来实现的元素的显示和隐藏；</li>
<li>v-show 是通过控制元素节点的 <code>display: none</code> 的 <strong>CSS 样式</strong>，来实现的元素的显示和隐藏；</li>
<li><strong>v-if 有更高的切换开销</strong>，也就意味在频繁的切换元素时，使用 v-if 消耗会更大；</li>
<li><strong>v-show 有更高的初次渲染开销</strong>，也就意味着当初始条件为 false 时，v-show 依然需要渲染元素节点，然后给元素身上添加  <code>display: none</code> 的样式；</li>
</ol>
<p>因此，当我们需要在页面中进行频繁的切换时，建议使用 v-show，否则就使用 v-if。</p>
<h1 id="默认子路由">默认子路由</h1>
<p>通常一个父级路由下都会有很多的子路由，每一个子路由都会有自己的 <code>path</code>，例如：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,
</span></span><span style="display:flex;"><span>        component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>        children<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsList&#39;</span>,
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsList&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsList
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="一基础语法-7">一、基础语法</h2>
<p>当我们希望，访问 <code>/home</code> 时，也能渲染一个子组件，我们就可以给 Home 设置一个默认子路由：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>        component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>        children<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;&#39;</span>,
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> HomeCharts,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;studentsList&#39;</span>,
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;StudentsList&#39;</span>,
</span></span><span style="display:flex;"><span>                component<span style="color:#000;font-weight:bold">:</span> StudentsList
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：默认子路由和父级路由其实就是同一个路由，所以父级路由的 name 属性，需要设置在默认子路由上。</p>
<h2 id="二动态设置默认子路由">二、动态设置默认子路由</h2>
<p>如果我们的 Home 路由是通过 <code>addRoute</code> 动态添加的，那么默认子路由也可以动态生成：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> HomeCharts from <span style="color:#d14">&#39;@/views/charts/HomeCharts.vue&#39;</span>
</span></span><span style="display:flex;"><span>router.addRoute({
</span></span><span style="display:flex;"><span>    path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/home&#39;</span>,
</span></span><span style="display:flex;"><span>    component<span style="color:#000;font-weight:bold">:</span> HomeView,
</span></span><span style="display:flex;"><span>    children<span style="color:#000;font-weight:bold">:</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 默认子路由
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>            path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;&#39;</span>,
</span></span><span style="display:flex;"><span>            name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;Home&#39;</span>,
</span></span><span style="display:flex;"><span>            component<span style="color:#000;font-weight:bold">:</span> HomeCharts,
</span></span><span style="display:flex;"><span>            meta<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                title<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#39;图表统计&#39;</span>]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 其他权限子路由
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        ...fullRoutes.filter(item =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> store.state.authMenus.includes(item.path.split(<span style="color:#d14">&#39;/&#39;</span>)[<span style="color:#099">0</span>]);
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="计算属性">计算属性</h1>
<h2 id="一基础语法-8">一、基础语法</h2>
<p>Vue 给组件提供了一个 <code>computed</code> 属性，用来设置组件自己的计算属性。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">h1</span>&gt;{{ 计算属性名 }}&lt;/<span style="color:#000080">h1</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            计算属性名() {
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">// 其他代码
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                <span style="color:#000;font-weight:bold">return</span> 计算属性值;
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            计算属性名() {
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">// 其他代码
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                <span style="color:#000;font-weight:bold">return</span> 计算属性值;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>说明：<code>计算属性名</code> 是我们自己定义的任意变量名。每一个计算属性的方法中，都必须 <code>return</code> 一个最终的结果，作为当前计算属性的值。</p>
<h2 id="二应用场景-1">二、应用场景</h2>
<p>当我们在 <code>&lt;template&gt;</code> 中需要使用一个数据，但是得到这个数据的过程比较复杂，这种情况下，我们就可以将“得到数据的过程”通过 <code>computed</code> 写在 <code>&lt;script&gt;</code> 中去。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h2</span>&gt;{{ reverseMsg }}&lt;/<span style="color:#000080">h2</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            msg<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Hello World&#34;</span>,
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        reverseMsg() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.msg.split(<span style="color:#d14">&#34;&#34;</span>).reverse().join(<span style="color:#d14">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>通常，我们会选择使用计算属性的几个条件：</p>
<ol>
<li>希望从一些旧数据中，经过一系列的操作，得到一条新数据；</li>
<li>得到新数据的过程比较复杂；</li>
<li>我们通过旧数据计算出新数据时，不会改变旧数据；</li>
</ol>
<h2 id="三computed-和-methods-的区别">三、computed 和 methods 的区别</h2>
<ol>
<li>computed 是属性，在使用时不需要调用；</li>
<li>methods 是方法，在使用是需要通过小括号来调用；</li>
<li><strong>computed 有缓存</strong>，当同一个计算属性被使用多次时，只会执行一次；</li>
<li>methods 没有缓存，当同一个方法被调用多次时，每一次都会重新执行；</li>
</ol>
<h2 id="四computed-的缓存">四、computed 的缓存</h2>
<p>computed 的缓存，指的是当计算属性第一次被使用后，就会将计算结果缓存下来。如果后续再次使用同一个计算属性时，就可以直接读取缓存中之前的计算结果。</p>
<p>但是，<strong>当计算属性中依赖的原数据发生变化时，计算属性会重新计算。</strong></p>
<h2 id="五计算属性的修改">五、计算属性的修改</h2>
<p>默认情况下，计算属性不能修改，如果修改计算属性，会出现类似以下的报错：</p>
<p><img src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/web/jianglan/20220721152643.png" alt="image-20220721152643216"></p>
<p>如果要修改计算属性，我们需要手动给计算属性添加一个 <code>set</code> 方法：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        计算属性名<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            get() {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">return</span> 计算属性值;
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            set(value) {
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">// 用 value 接收到新数据，然后来修改计算属性的值;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>说明：计算属性的修改，实际上修改的不是计算属性本身，而是修改的计算属性在 <code>get</code> 方法中依赖的原数据。</p>
<p>示例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h1</span>&gt;{{ fullName }}&lt;/<span style="color:#000080">h1</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#008080">v-on:click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;fullName = &#39;李四&#39;&#34;</span>&gt;修改&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        data() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                firstName<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;张&#34;</span>,
</span></span><span style="display:flex;"><span>                lastName<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;三&#34;</span>,
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        computed<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            fullName<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                get() {
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span>.firstName <span style="color:#000;font-weight:bold">+</span> <span style="color:#000;font-weight:bold">this</span>.lastName;
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                set(newValue) {
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">this</span>.firstName <span style="color:#000;font-weight:bold">=</span> newValue[<span style="color:#099">0</span>];
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">this</span>.lastName <span style="color:#000;font-weight:bold">=</span> newValue[<span style="color:#099">1</span>];
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="侦听器">侦听器</h1>
<h2 id="一基础语法-9">一、基础语法</h2>
<p>Vue 给所有的组件都提供了一个 <code>watch</code> 属性，用来设置组件内部的侦听器。</p>
<p>侦听器的作用，就是用来侦听指定数据的变化，当前 watch 侦听的数据发生变化时，会执行对应的函数。</p>
<p>语法结构：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    watch<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        侦听的数据名(变化后的值, 变化前的值) {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 当侦听的数据发生变化时，执行当前函数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>示例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">h1</span>&gt;{{ num }}&lt;/<span style="color:#000080">h1</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#008080">v-on:click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;num++&#34;</span>&gt;+1&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        data() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                num<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span>,
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        watch<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            num(newValue, oldValue) {
</span></span><span style="display:flex;"><span>                console.log(<span style="color:#d14">&#34;num 发生变化了&#34;</span>, newValue, oldValue, <span style="color:#000;font-weight:bold">this</span>.num);
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二侦听引用类型数据">二、侦听引用类型数据</h2>
<p>watch 在侦听引用类型的数据时，默认是侦听引用地址的变化。</p>
<p>如果我们想要去侦听引用类型的数据的变化，可以分两种情况考虑：</p>
<ol>
<li>只侦听对象中单个属性的变化</li>
<li>侦听整个对象中任意属性的变化</li>
</ol>
<h3 id="1侦听对象中单个属性的变化">1、侦听对象中单个属性的变化</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            student<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;张三&#34;</span>,
</span></span><span style="display:flex;"><span>                age<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">20</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    watch<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#d14">&#34;student.age&#34;</span>() {
</span></span><span style="display:flex;"><span>            console.log(<span style="color:#d14">&#34;student.age 发生变化了&#34;</span>);
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2侦听对象中任意属性的变化">2、侦听对象中任意属性的变化</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            student<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;张三&#34;</span>,
</span></span><span style="display:flex;"><span>                age<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">20</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    watch<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        student<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            handler() {
</span></span><span style="display:flex;"><span>                console.log(<span style="color:#d14">&#34;student 发生变化了&#34;</span>);
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            deep<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>, <span style="color:#998;font-style:italic">// 深度侦听
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三立即侦听">三、立即侦听</h2>
<p>侦听器默认在页面刷新一进来时不会执行，如果希望页面首次加载时也执行侦听器，那么我们可以设置“立即侦听”：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            student<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>                name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;张三&#34;</span>,
</span></span><span style="display:flex;"><span>                age<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">20</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    watch<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        student<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>            handler() {
</span></span><span style="display:flex;"><span>                console.log(<span style="color:#d14">&#34;student 发生变化了&#34;</span>);
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            immediate<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>, <span style="color:#998;font-style:italic">// 立即侦听
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="四computed-和-watch-的区别">四、computed 和 watch 的区别</h2>
<p>computed 和 watch 有相似的功能，就是都可以在指定的旧数据发生变化时，执行一个方法。</p>
<p>但是，computed 和 watch 的区别在于：</p>
<ol>
<li>computed 是<strong>一对多</strong>：一个计算属性可以对应多条数据，计算属性中的任意一条旧数据发生变化，计算属性都会重新执行方法；</li>
<li>watch 是<strong>一对一</strong>：一个侦听器只能侦听一条数据，每一条旧数据发生变化，都会执行对应的侦听器的方法；</li>
<li>computed 的重点在于得到一条新数据；</li>
<li>watch 的重点在于要实时监控数据的变化，当数据发生变化时我们可以自己决定要做什么操作；</li>
<li>watch 中可以用来处理异步操作，但是 computed 不行；</li>
</ol>
<h1 id="样式处理">样式处理</h1>
<p>Vue 中的样式处理，我们可以分为“静态样式”和“动态样式”来进行学习。</p>
<h2 id="一静态样式">一、静态样式</h2>
<p>在每一个单文件组件的 <code>&lt;style&gt;</code> 中，都可以设置静态样式：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">style</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000080">h1</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">color</span>: <span style="color:#000;font-weight:bold">red</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">style</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>除了直接在  <code>&lt;style&gt;</code> 中设置样式外，我们还可以在外部创建 <code>.css</code> 文件，然后在 <code>&lt;style&gt;</code> 中引入外部样式文件。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">style</span>&gt;
</span></span><span style="display:flex;"><span>@<span style="color:#000;font-weight:bold">import</span> <span style="color:#d14">&#39;./common.css&#39;</span>;  <span style="color:#998;font-style:italic">/* 末尾记得加分号 */</span>
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">style</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：直接在 <code>&lt;style&gt;</code> 中设置的样式，不管是内部样式，还是引入的外部样式，默认都是全局的。</p>
<h2 id="二局部样式">二、局部样式</h2>
<p>如果想要设置局部样式，需要在 <code>&lt;style&gt;</code> 上添加一个 <code>scoped</code> 属性。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">style</span> <span style="color:#008080">scoped</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000080">h1</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">color</span>: <span style="color:#000;font-weight:bold">red</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">style</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果我们希望外部引入的样式，也能够实现局部样式的效果，那么，我们需要通过以下方式来实现：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">style</span> <span style="color:#008080">scoped</span> <span style="color:#008080">src</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;./common.css&#34;</span>&gt;&lt;/<span style="color:#000080">style</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>scoped</code> 的原理，就是给当前<strong>组件中所有的元素</strong>以及<strong>子组件最外层元素</strong>身上，都添加一个以 <code>data-v-</code> 开头的特殊属性。同时， <code>&lt;style&gt;</code> 中所有的选择器也会添加上 <code>[data-v-xxx]</code> 属性选择器，从而实现局部样式的效果。</p>
<h2 id="三动态样式">三、动态样式</h2>
<h3 id="1动态-class">1、动态 class</h3>
<p>当我们元素身上只有动态 class 时，可以使用以下方式来设置：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">p</span> <span style="color:#008080">v-bind:class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{ active: isActive, done: isDone }&#34;</span>&gt;Hello&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">p</span> <span style="color:#008080">v-bind:class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;[ isActive ? &#39;active&#39;: &#39;&#39;, isDone ? &#39;done&#39;: &#39;&#39; ]&#34;</span>&gt;Hello&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        data() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                isActive<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">false</span>,
</span></span><span style="display:flex;"><span>                isDone<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">style</span>&gt;
</span></span><span style="display:flex;"><span>    .<span style="color:#458;font-weight:bold">active</span> { <span style="color:#a61717;background-color:#e3d2d2">...</span> }
</span></span><span style="display:flex;"><span>    .<span style="color:#458;font-weight:bold">done</span> { <span style="color:#a61717;background-color:#e3d2d2">...</span> }
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">style</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>当我们元素身上既有动态 class 又有静态 class 时，可以使用以下方式来设置：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">p</span> <span style="color:#008080">v-bind:class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{ active: isActive, done: true }&#34;</span>&gt;Hello&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">p</span> <span style="color:#008080">class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;done&#34;</span> <span style="color:#008080">v-bind:class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{ active: isActive }&#34;</span>&gt;Hello&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">p</span> <span style="color:#008080">v-bind:class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;[ isActive ? &#39;active&#39;: &#39;&#39;, &#39;done&#39; ]&#34;</span>&gt;Hello&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>        data() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>                isActive<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">style</span>&gt;
</span></span><span style="display:flex;"><span>    .<span style="color:#458;font-weight:bold">active</span> { <span style="color:#a61717;background-color:#e3d2d2">...</span> }
</span></span><span style="display:flex;"><span>    .<span style="color:#458;font-weight:bold">done</span> { <span style="color:#a61717;background-color:#e3d2d2">...</span> }
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">style</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2动态-style">2、动态 style</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span> &lt;<span style="color:#000080">div</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008080">v-bind:style</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{
</span></span></span><span style="display:flex;"><span><span style="color:#d14">            width: w + &#39;px&#39;,
</span></span></span><span style="display:flex;"><span><span style="color:#d14">            height: h,
</span></span></span><span style="display:flex;"><span><span style="color:#d14">            backgroundColor: bgColor,
</span></span></span><span style="display:flex;"><span><span style="color:#d14">        }&#34;</span>
</span></span><span style="display:flex;"><span>     &gt;&lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            w<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">100</span>,
</span></span><span style="display:flex;"><span>            h<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;100px&#34;</span>,
</span></span><span style="display:flex;"><span>            bgColor<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;orange&#34;</span>,
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="数据变更检测">数据变更检测</h1>
<p>当一个 Vue 组件被创建时，它将 <code>data</code> 里的所有的数据都加入到 Vue 的<strong>响应式系统</strong>中。
当这些数据的值发生改变时，Vue 内部会检测到数据的变化，Vue 会通知页面产生“响应”，即更新渲染为最近的数据。</p>
<h2 id="一检测变化的注意事项">一、检测变化的注意事项</h2>
<p>正常情况下，当数据发生改变，Vue 内部都可以检测到，一旦检测到数据变化了，Vue 会自动更新页面。</p>
<p>但是，有以下四种情况的数据变化，是 Vue 内部检测不到的。</p>
<ol>
<li>对象属性的<strong>新增</strong>；</li>
<li>对象属性的<strong>删除</strong>；</li>
<li>通过<strong>下标</strong>（索引）操作数组项；</li>
<li>对数组<strong>长度</strong>的修改；</li>
</ol>
<p>检测不到数据变化，就意味着，数据发生了改变，但是页面不会自动更新。</p>
<p>示例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">p</span>&gt;对象的操作：{{ student }}&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#008080">v-on:click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;setStudent&#34;</span>&gt;添加属性&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#008080">v-on:click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;setStudent&#34;</span>&gt;删除属性&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">p</span>&gt;数组的操作：{{ teachers }}&lt;/<span style="color:#000080">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#008080">v-on:click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;setTeachers&#34;</span>&gt;通过下标操作数据&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            student<span style="color:#000;font-weight:bold">:</span> { name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;张三&#34;</span> },
</span></span><span style="display:flex;"><span>            teachers<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#34;江老师&#34;</span>, <span style="color:#d14">&#34;王老师&#34;</span>, <span style="color:#d14">&#34;雷老师&#34;</span>],
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        setStudent() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.student.age <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">20</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">delete</span> <span style="color:#000;font-weight:bold">this</span>.student.name;
</span></span><span style="display:flex;"><span>            console.log(<span style="color:#000;font-weight:bold">this</span>.student);
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        setTeachers() {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.teachers[<span style="color:#099">3</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;hello&#34;</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">this</span>.teachers.length <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>            console.log(<span style="color:#000;font-weight:bold">this</span>.teachers);
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二解决方案">二、解决方案</h2>
<h3 id="1对象属性的新增">1、对象属性的新增</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            student<span style="color:#000;font-weight:bold">:</span> { name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;张三&#39;</span> }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        setStudent() {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 方法一：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">this</span>.student <span style="color:#000;font-weight:bold">=</span> {
</span></span><span style="display:flex;"><span>                ...<span style="color:#000;font-weight:bold">this</span>.student,
</span></span><span style="display:flex;"><span>                age<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">20</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 方法二：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">this</span>.$set(<span style="color:#000;font-weight:bold">this</span>.student, <span style="color:#d14">&#39;gender&#39;</span>, <span style="color:#d14">&#39;男&#39;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 方法三：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">this</span>.student <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">Object</span>.assign({}, <span style="color:#000;font-weight:bold">this</span>.student, { age<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">20</span>, gender<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;男&#39;</span> });
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2数组下标的操作">2、数组下标的操作</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            teachers<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#34;江老师&#34;</span>, <span style="color:#d14">&#34;王老师&#34;</span>, <span style="color:#d14">&#34;雷老师&#34;</span>],
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        setTeachers() {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 方法一：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">this</span>.teachers.splice(<span style="color:#099">0</span>, <span style="color:#099">1</span>, <span style="color:#d14">&#39;张老师&#39;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 方法二：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">this</span>.$set(<span style="color:#000;font-weight:bold">this</span>.teachers, <span style="color:#099">0</span>, <span style="color:#d14">&#39;张老师&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3数组长度的操作">3、数组长度的操作</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            teachers<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#34;江老师&#34;</span>, <span style="color:#d14">&#34;王老师&#34;</span>, <span style="color:#d14">&#34;雷老师&#34;</span>],
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    methods<span style="color:#000;font-weight:bold">:</span> {
</span></span><span style="display:flex;"><span>        setTeachers() {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 长度清零
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">this</span>.teachers <span style="color:#000;font-weight:bold">=</span> [];
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 将长度改为 2
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">this</span>.teachers.splice(<span style="color:#099">2</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="表单输入绑定">表单输入绑定</h1>
<h2 id="一双向数据绑定">一、双向数据绑定</h2>
<p>Vue 给所有的表单元素身上提供了一个 <code>v-model</code> 的指令，用来实现“数据”与“表单元素”之间的双向数据绑定。</p>
<ol>
<li>数据发生改变时，页面的表单元素的状态会更新；</li>
<li>从页面中修改表单元素的状态时，对应的数据也会更新；</li>
</ol>
<p>示例代码：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">input</span> <span style="color:#008080">type</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;text&#34;</span> <span style="color:#008080">v-model</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;msg&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#000080">button</span> <span style="color:#008080">v-on:click</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;msg = &#39;world&#39;&#34;</span>&gt;修改数据&lt;/<span style="color:#000080">button</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            msg<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Hello&#34;</span>,
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="v-model-的原理">v-model 的原理</h3>
<p>v-model 实际上，就是 <code>v-bind:value</code> 属性和 <code>v-on:input</code> 事件的“语法糖”。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">input</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008080">type</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;text&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008080">ref</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;inputValue&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008080">v-bind:value</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;msg&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008080">v-on:input</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;msg = $refs.inputValue.value&#34;</span>
</span></span><span style="display:flex;"><span>       /&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二v-model-与单选按钮">二、v-model 与单选按钮</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">input</span> <span style="color:#008080">type</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;radio&#34;</span> <span style="color:#008080">v-model</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;gender&#34;</span> <span style="color:#008080">value</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;男&#34;</span> /&gt;&lt;<span style="color:#000080">label</span>&gt;男&lt;/<span style="color:#000080">label</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">input</span> <span style="color:#008080">type</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;radio&#34;</span> <span style="color:#008080">v-model</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;gender&#34;</span> <span style="color:#008080">value</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;女&#34;</span> /&gt;&lt;<span style="color:#000080">label</span>&gt;女&lt;/<span style="color:#000080">label</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            gender<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;女&#39;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三v-model-与复选框">三、v-model 与复选框</h2>
<p>当我们只需要获取复选框的选中状态时：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">input</span> <span style="color:#008080">type</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;checkbox&#34;</span> <span style="color:#008080">v-model</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;isAgree&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">label</span>&gt; 我已阅读并同意以上协议 &lt;/<span style="color:#000080">label</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            isAgree<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>当我们需要获取被选中复选框的内容时：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">input</span> <span style="color:#008080">type</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;checkbox&#34;</span> <span style="color:#008080">v-model</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;likes&#34;</span> <span style="color:#008080">value</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;吃饭&#34;</span> /&gt;&lt;<span style="color:#000080">label</span>&gt;吃饭&lt;/<span style="color:#000080">label</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">input</span> <span style="color:#008080">type</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;checkbox&#34;</span> <span style="color:#008080">v-model</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;likes&#34;</span> <span style="color:#008080">value</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;睡觉&#34;</span> /&gt;&lt;<span style="color:#000080">label</span>&gt;睡觉&lt;/<span style="color:#000080">label</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">input</span> <span style="color:#008080">type</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;checkbox&#34;</span> <span style="color:#008080">v-model</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;likes&#34;</span> <span style="color:#008080">value</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;打豆豆&#34;</span> /&gt;&lt;<span style="color:#000080">label</span>&gt;打豆豆&lt;/<span style="color:#000080">label</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            likes<span style="color:#000;font-weight:bold">:</span> []
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="四v-model-与下拉列表">四、v-model 与下拉列表</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">select</span> <span style="color:#008080">v-model</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;city&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">option</span> <span style="color:#008080">value</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;四川&#34;</span>&gt;四川&lt;/<span style="color:#000080">option</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">option</span> <span style="color:#008080">value</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;云南&#34;</span>&gt;云南&lt;/<span style="color:#000080">option</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">option</span> <span style="color:#008080">value</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;贵州&#34;</span>&gt;贵州&lt;/<span style="color:#000080">option</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">select</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">export</span> <span style="color:#000;font-weight:bold">default</span> {
</span></span><span style="display:flex;"><span>    data() {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>            city<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;四川&#39;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="五修饰符">五、修饰符</h2>
<p>v-model 在搭配输入框使用时，还可以使用以下三种修饰符：</p>
<ol>
<li><code>.lazy</code>：将 v-model 原本的 input 事件改为 change 事件，表现为输入框失焦后才修改数据；</li>
<li><code>.number</code>：将输入框的值使用 <code>parseFloat()</code> 转换为数字进行保存，如果不能转换则保留原本的值；</li>
<li><code>.trim</code>：去掉输入框中值前后的空格后进行保存；</li>
</ol>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">input</span> <span style="color:#008080">type</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;text&#34;</span> <span style="color:#008080">v-model</span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#008080">lazy</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;msg&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">input</span> <span style="color:#008080">type</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;text&#34;</span> <span style="color:#008080">v-model</span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#008080">number</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;msg&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">input</span> <span style="color:#008080">type</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;text&#34;</span> <span style="color:#008080">v-model</span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#008080">trim</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;msg&#34;</span> /&gt;
</span></span></code></pre></td></tr></table>
</div>
</div>
    </div>

    

    
</div>

        </div>
        <div id="footer"><div class="container-footer">
    

    <div class="beian">
        
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=">
            

        </a>

        
        <a href="//beian.miit.gov.cn" target="_blank">
            
            <span class="some">icp...<span>
            
        </a>
    </div>

    
    <div class="info">
        
        <a href="https://github.com/loveminimal/hugo-theme-virgo">🕊️</a> 2023 - <span id="info-date"></span>
    </div>

</div></div>
        <div class="cool-after" style="
            
                background-color: rgba(255, 255, 255, 0.69); 
                backdrop-filter: saturate(180%) blur(6px);
            
            "></div>
    </body>
</html>
